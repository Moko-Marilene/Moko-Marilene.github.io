<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.26">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="KOUGOUM Marilene">

<title>Projet Web Mining &amp; NLP : Analyse de flux RSS et Modélisation –</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js" integrity="sha384-ZvpUoO/+PpLXR1lu4jmpXWu80pZlYUAfxl5NsBMWOEPSjUn/6Z/hRTt8+pR6L4N2" crossorigin="anonymous"></script><script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-587c61ba64f3a5504c4d52d930310e48.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-e31584831b205ffbb2d98406f31c2a5b.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdn.jsdelivr.net/npm/requirejs@2.3.6/require.min.js" integrity="sha384-c9c+LnTbwQ3aujuU7ULEPVvgLs+Fn6fJUvIGTsuu1ZcCf11fiEubah0ttpca4ntM sha384-6V1/AdqZRWk1KAlWbKBlGhN7VG4iE/yAZcO6NZPMF8od0vukrvr0tg4qY6NSrItx" crossorigin="anonymous"></script>



<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>



<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../../logo.png" alt="" class="navbar-logo light-content">
    <img src="../../logo.png" alt="" class="navbar-logo dark-content">
    </a>
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title"></span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Accueil</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../finance_quant/index.html"> 
<span class="menu-text">Finance Quantitative</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../risques/index.html"> 
<span class="menu-text">Risque &amp; Régulation</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../modelisation-stat-data/index.html"> 
<span class="menu-text">Modélisation stat &amp; Data science</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../articles-ressources.qmd"> 
<span class="menu-text">Ressources</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">À propos</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#importation-des-librairies-et-collecte-des-données" id="toc-importation-des-librairies-et-collecte-des-données" class="nav-link" data-scroll-target="#importation-des-librairies-et-collecte-des-données">1. Importation des librairies et collecte des données</a>
  <ul class="collapse">
  <li><a href="#installation-des-packages-et-données-nécessaires" id="toc-installation-des-packages-et-données-nécessaires" class="nav-link" data-scroll-target="#installation-des-packages-et-données-nécessaires">Installation des packages et données nécessaires</a></li>
  <li><a href="#acquisition-de-données-par-écoute-dun-flux-rss" id="toc-acquisition-de-données-par-écoute-dun-flux-rss" class="nav-link" data-scroll-target="#acquisition-de-données-par-écoute-dun-flux-rss">Acquisition de données par écoute d’un flux RSS</a>
  <ul class="collapse">
  <li><a href="#question-1" id="toc-question-1" class="nav-link" data-scroll-target="#question-1">Question 1</a></li>
  <li><a href="#q.2.--" id="toc-q.2.--" class="nav-link" data-scroll-target="#q.2.--">Q.2. -</a></li>
  <li><a href="#question-3-mettons-à-jour-notre-base-de-données-data_info-avec-les-articles-contenus-dans-les-flux-rss-à-notre-dispositions" id="toc-question-3-mettons-à-jour-notre-base-de-données-data_info-avec-les-articles-contenus-dans-les-flux-rss-à-notre-dispositions" class="nav-link" data-scroll-target="#question-3-mettons-à-jour-notre-base-de-données-data_info-avec-les-articles-contenus-dans-les-flux-rss-à-notre-dispositions">Question 3 : Mettons à jour notre base de données data_info avec les articles contenus dans les flux RSS à notre dispositions</a></li>
  <li><a href="#q.4.---comment-se-prémunir-dune-eventuelle-suppression-des-images-illustratives-de-nos-articles-sur-les-sites-web" id="toc-q.4.---comment-se-prémunir-dune-eventuelle-suppression-des-images-illustratives-de-nos-articles-sur-les-sites-web" class="nav-link" data-scroll-target="#q.4.---comment-se-prémunir-dune-eventuelle-suppression-des-images-illustratives-de-nos-articles-sur-les-sites-web">Q.4. - Comment se prémunir d’une eventuelle suppression des images illustratives de nos articles sur les sites web?</a></li>
  <li><a href="#la-question-5-a-été-omise-dans-lénoncé-du-projet" id="toc-la-question-5-a-été-omise-dans-lénoncé-du-projet" class="nav-link" data-scroll-target="#la-question-5-a-été-omise-dans-lénoncé-du-projet">La question 5 a été omise dans l’énoncé du projet</a></li>
  <li><a href="#q.6.--donnons-une-idée-dune-ou-plusieurs-autres-sources-que-lon-pourrait-on-écouter-pour-collecter-des-informations-complémentaires-sur-ces-articles" id="toc-q.6.--donnons-une-idée-dune-ou-plusieurs-autres-sources-que-lon-pourrait-on-écouter-pour-collecter-des-informations-complémentaires-sur-ces-articles" class="nav-link" data-scroll-target="#q.6.--donnons-une-idée-dune-ou-plusieurs-autres-sources-que-lon-pourrait-on-écouter-pour-collecter-des-informations-complémentaires-sur-ces-articles">Q.6.- Donnons une idée d’une (ou plusieurs) autre(s) source(s) que l’on pourrait-on écouter pour collecter des informations complémentaires sur ces articles ?</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#extraction-dinformation" id="toc-extraction-dinformation" class="nav-link" data-scroll-target="#extraction-dinformation">Extraction d’information</a>
  <ul class="collapse">
  <li><a href="#extraction-des-entités-nommées" id="toc-extraction-des-entités-nommées" class="nav-link" data-scroll-target="#extraction-des-entités-nommées">Extraction des entités nommées</a>
  <ul class="collapse">
  <li><a href="#q.7" id="toc-q.7" class="nav-link" data-scroll-target="#q.7">Q.7</a></li>
  <li><a href="#q.8.--ecrivons-un-programme-qui-traite-lensemble-des-textes-que-nous-aurons-chargé-depuis-le-fichier-francetvinfo.json-mis-à-jour-et-stock-pour-chaque-article-les-entités-trouvées-et-les-informations-afférentes." id="toc-q.8.--ecrivons-un-programme-qui-traite-lensemble-des-textes-que-nous-aurons-chargé-depuis-le-fichier-francetvinfo.json-mis-à-jour-et-stock-pour-chaque-article-les-entités-trouvées-et-les-informations-afférentes." class="nav-link" data-scroll-target="#q.8.--ecrivons-un-programme-qui-traite-lensemble-des-textes-que-nous-aurons-chargé-depuis-le-fichier-francetvinfo.json-mis-à-jour-et-stock-pour-chaque-article-les-entités-trouvées-et-les-informations-afférentes.">Q.8.- Ecrivons un programme qui traite l’ensemble des textes que nous aurons chargé depuis le fichier francetvinfo.json mis à jour et stock pour chaque article les entités trouvées et les informations afférentes.</a></li>
  </ul></li>
  <li><a href="#analyse-des-entités-nommées" id="toc-analyse-des-entités-nommées" class="nav-link" data-scroll-target="#analyse-des-entités-nommées">Analyse des entités nommées</a>
  <ul class="collapse">
  <li><a href="#q.9.---pour-chaque-type-dentité-déterminons-les-20-plus-fréquentes-dans-la-collection-que-nous-avons-extraite-précédemment.-on-mémorisera-ces-entités-dans-trois-listes-distinctes." id="toc-q.9.---pour-chaque-type-dentité-déterminons-les-20-plus-fréquentes-dans-la-collection-que-nous-avons-extraite-précédemment.-on-mémorisera-ces-entités-dans-trois-listes-distinctes." class="nav-link" data-scroll-target="#q.9.---pour-chaque-type-dentité-déterminons-les-20-plus-fréquentes-dans-la-collection-que-nous-avons-extraite-précédemment.-on-mémorisera-ces-entités-dans-trois-listes-distinctes.">Q.9. - Pour chaque type d’entité, déterminons les 20 plus fréquentes dans la collection que nous avons extraite précédemment. On mémorisera ces entités dans trois listes distinctes.</a></li>
  <li><a href="#q.10---ecrivons-une-fonction-qui-prend-en-entrée-une-paire-dentités-et-les-types-correspondant-et-retourne-les-co-occurrences-de-ces-deux-entités-au-sein-dun-même-document-article-dans-notre-collection-darticles-all_articles-construite-à-q.8." id="toc-q.10---ecrivons-une-fonction-qui-prend-en-entrée-une-paire-dentités-et-les-types-correspondant-et-retourne-les-co-occurrences-de-ces-deux-entités-au-sein-dun-même-document-article-dans-notre-collection-darticles-all_articles-construite-à-q.8." class="nav-link" data-scroll-target="#q.10---ecrivons-une-fonction-qui-prend-en-entrée-une-paire-dentités-et-les-types-correspondant-et-retourne-les-co-occurrences-de-ces-deux-entités-au-sein-dun-même-document-article-dans-notre-collection-darticles-all_articles-construite-à-q.8.">Q.10 - Ecrivons une fonction qui prend en entrée une paire d’entités et les types correspondant et retourne les co-occurrences de ces deux entités au sein d’un même document (article) dans notre collection d’articles <strong>“all_articles”</strong> construite à Q.8.</a></li>
  <li><a href="#q.11.---en-partant-des-listes-de-la-question-8-on-utilisera-la-fonction-de-la-question-précédente-pour-chercher-les-paires-dentités-de-type-différents-qui-apparaissent-le-plus-souvent-ensemble-dans-notre-collection-darticles-mise-à-jour." id="toc-q.11.---en-partant-des-listes-de-la-question-8-on-utilisera-la-fonction-de-la-question-précédente-pour-chercher-les-paires-dentités-de-type-différents-qui-apparaissent-le-plus-souvent-ensemble-dans-notre-collection-darticles-mise-à-jour." class="nav-link" data-scroll-target="#q.11.---en-partant-des-listes-de-la-question-8-on-utilisera-la-fonction-de-la-question-précédente-pour-chercher-les-paires-dentités-de-type-différents-qui-apparaissent-le-plus-souvent-ensemble-dans-notre-collection-darticles-mise-à-jour.">Q.11. - En partant des listes de la question 8, on utilisera la fonction de la question précédente pour chercher les paires d’entités de type différents qui apparaissent le plus souvent ensemble dans notre collection d’articles mise à jour.</a></li>
  <li><a href="#q.12.---reprenons-lanalyse-précédente-en-nous-interessant-aux-co-occurrences-au-sein-dune-même-phrase-pour-plus-de-précision." id="toc-q.12.---reprenons-lanalyse-précédente-en-nous-interessant-aux-co-occurrences-au-sein-dune-même-phrase-pour-plus-de-précision." class="nav-link" data-scroll-target="#q.12.---reprenons-lanalyse-précédente-en-nous-interessant-aux-co-occurrences-au-sein-dune-même-phrase-pour-plus-de-précision.">Q.12. - Reprenons l’analyse précédente en nous interessant aux co-occurrences au sein d’une même phrase pour plus de précision.</a></li>
  <li><a href="#q.13.---ecrivons-une-fonction-qui-prend-en-entrée-deux-entités-et-leurs-types-respectifs-et-qui-analyse-lensemble-des-documents-où-ces-entités-apparaissent-dans-la-même-phrase-de-manière-à-établir-la-liste-des-verbes-on-prendra-le-lemme-du-verbe-qui-apparaissent-entre-ces-deux-entités-dans-ces-phrases." id="toc-q.13.---ecrivons-une-fonction-qui-prend-en-entrée-deux-entités-et-leurs-types-respectifs-et-qui-analyse-lensemble-des-documents-où-ces-entités-apparaissent-dans-la-même-phrase-de-manière-à-établir-la-liste-des-verbes-on-prendra-le-lemme-du-verbe-qui-apparaissent-entre-ces-deux-entités-dans-ces-phrases." class="nav-link" data-scroll-target="#q.13.---ecrivons-une-fonction-qui-prend-en-entrée-deux-entités-et-leurs-types-respectifs-et-qui-analyse-lensemble-des-documents-où-ces-entités-apparaissent-dans-la-même-phrase-de-manière-à-établir-la-liste-des-verbes-on-prendra-le-lemme-du-verbe-qui-apparaissent-entre-ces-deux-entités-dans-ces-phrases.">Q.13. - Ecrivons une fonction qui prend en entrée deux entités et leurs types respectifs et qui analyse l’ensemble des documents où ces entités apparaissent dans la même phrase de manière à établir la liste des verbes (on prendra le lemme du verbe) qui apparaissent entre ces deux entités dans ces phrases.</a></li>
  <li><a href="#q.14.--en-utilisant-la-fonction-de-la-question-précédente-déterminons-quelques-couples-dentités-et-un-verbe-associé-qui-vous-paraissent-faire-sens." id="toc-q.14.--en-utilisant-la-fonction-de-la-question-précédente-déterminons-quelques-couples-dentités-et-un-verbe-associé-qui-vous-paraissent-faire-sens." class="nav-link" data-scroll-target="#q.14.--en-utilisant-la-fonction-de-la-question-précédente-déterminons-quelques-couples-dentités-et-un-verbe-associé-qui-vous-paraissent-faire-sens.">Q.14.- En utilisant la fonction de la question précédente, déterminons quelques couples d’entités et un verbe associé qui vous paraissent faire sens.</a></li>
  <li><a href="#q.15." id="toc-q.15." class="nav-link" data-scroll-target="#q.15.">Q.15.</a></li>
  <li><a href="#q.16.--expliquons-comment-on-pourrait-affiner-cette-analyse-en-utilisant-larbre-de-dépendance-syntaxique" id="toc-q.16.--expliquons-comment-on-pourrait-affiner-cette-analyse-en-utilisant-larbre-de-dépendance-syntaxique" class="nav-link" data-scroll-target="#q.16.--expliquons-comment-on-pourrait-affiner-cette-analyse-en-utilisant-larbre-de-dépendance-syntaxique">Q.16.- Expliquons comment on pourrait affiner cette analyse en utilisant l’arbre de dépendance syntaxique</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Projet Web Mining &amp; NLP : Analyse de flux RSS et Modélisation</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>KOUGOUM Marilene </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<p><a href="../../modelisation-stat-data/index.html">⬅ Retour</a></p>
<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>Ce projet de <strong>Web Mining et NLP</strong> vise à extraire, analyser et modéliser des informations textuelles issues de flux RSS.<br>
Nous appliquons plusieurs techniques :</p>
<ul>
<li>Collecte et parsing de flux RSS<br>
</li>
<li>Nettoyage et prétraitement linguistique<br>
</li>
<li>Extraction de mots-clés<br>
</li>
<li>Analyse de sentiments<br>
</li>
<li>Classification et vectorisation<br>
</li>
<li>Visualisation des tendances textuelles</li>
</ul>
<hr>
</section>
<section id="importation-des-librairies-et-collecte-des-données" class="level1">
<h1>1. Importation des librairies et collecte des données</h1>
<section id="installation-des-packages-et-données-nécessaires" class="level2">
<h2 class="anchored" data-anchor-id="installation-des-packages-et-données-nécessaires">Installation des packages et données nécessaires</h2>
<div id="9944f9d2" class="cell" data-execution_count="1">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="op">!</span>wget https:<span class="op">//</span>people.irisa.fr<span class="op">/</span>Guillaume.Gravier<span class="op">/</span>teaching<span class="op">/</span>ENSAI<span class="op">/</span>data<span class="op">/</span>francetvinfo.json</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="op">!</span>wget https:<span class="op">//</span>people.irisa.fr<span class="op">/</span>Guillaume.Gravier<span class="op">/</span>teaching<span class="op">/</span>ENSAI<span class="op">/</span>data<span class="op">/</span>tvinfo<span class="op">-</span>sources.json</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="op">!</span>pip install feedparser</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="op">!</span>pip install newspaper3k</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="op">!</span>pip install newspaper3k</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="op">!</span>pip install lxml[html_clean]</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="op">!</span>python<span class="op">-</span>m spacy download fr_core_news_md</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>'wget' n'est pas reconnu en tant que commande interne
ou externe, un programme ex‚cutable ou un fichier de commandes.
'wget' n'est pas reconnu en tant que commande interne
ou externe, un programme ex‚cutable ou un fichier de commandes.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Requirement already satisfied: feedparser in c:\users\mokom\my_website\marilene-ws\nlp_env\lib\site-packages (6.0.12)
Requirement already satisfied: sgmllib3k in c:\users\mokom\my_website\marilene-ws\nlp_env\lib\site-packages (from feedparser) (1.0.0)
Requirement already satisfied: newspaper3k in c:\users\mokom\my_website\marilene-ws\nlp_env\lib\site-packages (0.2.8)
Requirement already satisfied: beautifulsoup4&gt;=4.4.1 in c:\users\mokom\my_website\marilene-ws\nlp_env\lib\site-packages (from newspaper3k) (4.14.2)
Requirement already satisfied: Pillow&gt;=3.3.0 in c:\users\mokom\my_website\marilene-ws\nlp_env\lib\site-packages (from newspaper3k) (12.0.0)
Requirement already satisfied: PyYAML&gt;=3.11 in c:\users\mokom\my_website\marilene-ws\nlp_env\lib\site-packages (from newspaper3k) (6.0.3)
Requirement already satisfied: cssselect&gt;=0.9.2 in c:\users\mokom\my_website\marilene-ws\nlp_env\lib\site-packages (from newspaper3k) (1.3.0)
Requirement already satisfied: lxml&gt;=3.6.0 in c:\users\mokom\my_website\marilene-ws\nlp_env\lib\site-packages (from newspaper3k) (6.0.2)
Requirement already satisfied: nltk&gt;=3.2.1 in c:\users\mokom\my_website\marilene-ws\nlp_env\lib\site-packages (from newspaper3k) (3.9.2)
Requirement already satisfied: requests&gt;=2.10.0 in c:\users\mokom\my_website\marilene-ws\nlp_env\lib\site-packages (from newspaper3k) (2.32.5)
Requirement already satisfied: feedparser&gt;=5.2.1 in c:\users\mokom\my_website\marilene-ws\nlp_env\lib\site-packages (from newspaper3k) (6.0.12)
Requirement already satisfied: tldextract&gt;=2.0.1 in c:\users\mokom\my_website\marilene-ws\nlp_env\lib\site-packages (from newspaper3k) (5.3.0)
Requirement already satisfied: feedfinder2&gt;=0.0.4 in c:\users\mokom\my_website\marilene-ws\nlp_env\lib\site-packages (from newspaper3k) (0.0.4)
Requirement already satisfied: jieba3k&gt;=0.35.1 in c:\users\mokom\my_website\marilene-ws\nlp_env\lib\site-packages (from newspaper3k) (0.35.1)
Requirement already satisfied: python-dateutil&gt;=2.5.3 in c:\users\mokom\my_website\marilene-ws\nlp_env\lib\site-packages (from newspaper3k) (2.9.0.post0)
Requirement already satisfied: tinysegmenter==0.3 in c:\users\mokom\my_website\marilene-ws\nlp_env\lib\site-packages (from newspaper3k) (0.3)
Requirement already satisfied: soupsieve&gt;1.2 in c:\users\mokom\my_website\marilene-ws\nlp_env\lib\site-packages (from beautifulsoup4&gt;=4.4.1-&gt;newspaper3k) (2.8)
Requirement already satisfied: typing-extensions&gt;=4.0.0 in c:\users\mokom\my_website\marilene-ws\nlp_env\lib\site-packages (from beautifulsoup4&gt;=4.4.1-&gt;newspaper3k) (4.15.0)
Requirement already satisfied: six in c:\users\mokom\my_website\marilene-ws\nlp_env\lib\site-packages (from feedfinder2&gt;=0.0.4-&gt;newspaper3k) (1.17.0)
Requirement already satisfied: sgmllib3k in c:\users\mokom\my_website\marilene-ws\nlp_env\lib\site-packages (from feedparser&gt;=5.2.1-&gt;newspaper3k) (1.0.0)
Requirement already satisfied: click in c:\users\mokom\my_website\marilene-ws\nlp_env\lib\site-packages (from nltk&gt;=3.2.1-&gt;newspaper3k) (8.3.1)
Requirement already satisfied: joblib in c:\users\mokom\my_website\marilene-ws\nlp_env\lib\site-packages (from nltk&gt;=3.2.1-&gt;newspaper3k) (1.5.2)
Requirement already satisfied: regex&gt;=2021.8.3 in c:\users\mokom\my_website\marilene-ws\nlp_env\lib\site-packages (from nltk&gt;=3.2.1-&gt;newspaper3k) (2025.11.3)
Requirement already satisfied: tqdm in c:\users\mokom\my_website\marilene-ws\nlp_env\lib\site-packages (from nltk&gt;=3.2.1-&gt;newspaper3k) (4.67.1)
Requirement already satisfied: charset_normalizer&lt;4,&gt;=2 in c:\users\mokom\my_website\marilene-ws\nlp_env\lib\site-packages (from requests&gt;=2.10.0-&gt;newspaper3k) (3.4.4)
Requirement already satisfied: idna&lt;4,&gt;=2.5 in c:\users\mokom\my_website\marilene-ws\nlp_env\lib\site-packages (from requests&gt;=2.10.0-&gt;newspaper3k) (3.11)
Requirement already satisfied: urllib3&lt;3,&gt;=1.21.1 in c:\users\mokom\my_website\marilene-ws\nlp_env\lib\site-packages (from requests&gt;=2.10.0-&gt;newspaper3k) (2.5.0)
Requirement already satisfied: certifi&gt;=2017.4.17 in c:\users\mokom\my_website\marilene-ws\nlp_env\lib\site-packages (from requests&gt;=2.10.0-&gt;newspaper3k) (2025.11.12)
Requirement already satisfied: requests-file&gt;=1.4 in c:\users\mokom\my_website\marilene-ws\nlp_env\lib\site-packages (from tldextract&gt;=2.0.1-&gt;newspaper3k) (3.0.1)
Requirement already satisfied: filelock&gt;=3.0.8 in c:\users\mokom\my_website\marilene-ws\nlp_env\lib\site-packages (from tldextract&gt;=2.0.1-&gt;newspaper3k) (3.20.0)
Requirement already satisfied: colorama in c:\users\mokom\my_website\marilene-ws\nlp_env\lib\site-packages (from click-&gt;nltk&gt;=3.2.1-&gt;newspaper3k) (0.4.6)
Requirement already satisfied: newspaper3k in c:\users\mokom\my_website\marilene-ws\nlp_env\lib\site-packages (0.2.8)
Requirement already satisfied: beautifulsoup4&gt;=4.4.1 in c:\users\mokom\my_website\marilene-ws\nlp_env\lib\site-packages (from newspaper3k) (4.14.2)
Requirement already satisfied: Pillow&gt;=3.3.0 in c:\users\mokom\my_website\marilene-ws\nlp_env\lib\site-packages (from newspaper3k) (12.0.0)
Requirement already satisfied: PyYAML&gt;=3.11 in c:\users\mokom\my_website\marilene-ws\nlp_env\lib\site-packages (from newspaper3k) (6.0.3)
Requirement already satisfied: cssselect&gt;=0.9.2 in c:\users\mokom\my_website\marilene-ws\nlp_env\lib\site-packages (from newspaper3k) (1.3.0)
Requirement already satisfied: lxml&gt;=3.6.0 in c:\users\mokom\my_website\marilene-ws\nlp_env\lib\site-packages (from newspaper3k) (6.0.2)
Requirement already satisfied: nltk&gt;=3.2.1 in c:\users\mokom\my_website\marilene-ws\nlp_env\lib\site-packages (from newspaper3k) (3.9.2)
Requirement already satisfied: requests&gt;=2.10.0 in c:\users\mokom\my_website\marilene-ws\nlp_env\lib\site-packages (from newspaper3k) (2.32.5)
Requirement already satisfied: feedparser&gt;=5.2.1 in c:\users\mokom\my_website\marilene-ws\nlp_env\lib\site-packages (from newspaper3k) (6.0.12)
Requirement already satisfied: tldextract&gt;=2.0.1 in c:\users\mokom\my_website\marilene-ws\nlp_env\lib\site-packages (from newspaper3k) (5.3.0)
Requirement already satisfied: feedfinder2&gt;=0.0.4 in c:\users\mokom\my_website\marilene-ws\nlp_env\lib\site-packages (from newspaper3k) (0.0.4)
Requirement already satisfied: jieba3k&gt;=0.35.1 in c:\users\mokom\my_website\marilene-ws\nlp_env\lib\site-packages (from newspaper3k) (0.35.1)
Requirement already satisfied: python-dateutil&gt;=2.5.3 in c:\users\mokom\my_website\marilene-ws\nlp_env\lib\site-packages (from newspaper3k) (2.9.0.post0)
Requirement already satisfied: tinysegmenter==0.3 in c:\users\mokom\my_website\marilene-ws\nlp_env\lib\site-packages (from newspaper3k) (0.3)
Requirement already satisfied: soupsieve&gt;1.2 in c:\users\mokom\my_website\marilene-ws\nlp_env\lib\site-packages (from beautifulsoup4&gt;=4.4.1-&gt;newspaper3k) (2.8)
Requirement already satisfied: typing-extensions&gt;=4.0.0 in c:\users\mokom\my_website\marilene-ws\nlp_env\lib\site-packages (from beautifulsoup4&gt;=4.4.1-&gt;newspaper3k) (4.15.0)
Requirement already satisfied: six in c:\users\mokom\my_website\marilene-ws\nlp_env\lib\site-packages (from feedfinder2&gt;=0.0.4-&gt;newspaper3k) (1.17.0)
Requirement already satisfied: sgmllib3k in c:\users\mokom\my_website\marilene-ws\nlp_env\lib\site-packages (from feedparser&gt;=5.2.1-&gt;newspaper3k) (1.0.0)
Requirement already satisfied: click in c:\users\mokom\my_website\marilene-ws\nlp_env\lib\site-packages (from nltk&gt;=3.2.1-&gt;newspaper3k) (8.3.1)
Requirement already satisfied: joblib in c:\users\mokom\my_website\marilene-ws\nlp_env\lib\site-packages (from nltk&gt;=3.2.1-&gt;newspaper3k) (1.5.2)
Requirement already satisfied: regex&gt;=2021.8.3 in c:\users\mokom\my_website\marilene-ws\nlp_env\lib\site-packages (from nltk&gt;=3.2.1-&gt;newspaper3k) (2025.11.3)
Requirement already satisfied: tqdm in c:\users\mokom\my_website\marilene-ws\nlp_env\lib\site-packages (from nltk&gt;=3.2.1-&gt;newspaper3k) (4.67.1)
Requirement already satisfied: charset_normalizer&lt;4,&gt;=2 in c:\users\mokom\my_website\marilene-ws\nlp_env\lib\site-packages (from requests&gt;=2.10.0-&gt;newspaper3k) (3.4.4)
Requirement already satisfied: idna&lt;4,&gt;=2.5 in c:\users\mokom\my_website\marilene-ws\nlp_env\lib\site-packages (from requests&gt;=2.10.0-&gt;newspaper3k) (3.11)
Requirement already satisfied: urllib3&lt;3,&gt;=1.21.1 in c:\users\mokom\my_website\marilene-ws\nlp_env\lib\site-packages (from requests&gt;=2.10.0-&gt;newspaper3k) (2.5.0)
Requirement already satisfied: certifi&gt;=2017.4.17 in c:\users\mokom\my_website\marilene-ws\nlp_env\lib\site-packages (from requests&gt;=2.10.0-&gt;newspaper3k) (2025.11.12)
Requirement already satisfied: requests-file&gt;=1.4 in c:\users\mokom\my_website\marilene-ws\nlp_env\lib\site-packages (from tldextract&gt;=2.0.1-&gt;newspaper3k) (3.0.1)
Requirement already satisfied: filelock&gt;=3.0.8 in c:\users\mokom\my_website\marilene-ws\nlp_env\lib\site-packages (from tldextract&gt;=2.0.1-&gt;newspaper3k) (3.20.0)
Requirement already satisfied: colorama in c:\users\mokom\my_website\marilene-ws\nlp_env\lib\site-packages (from click-&gt;nltk&gt;=3.2.1-&gt;newspaper3k) (0.4.6)
Requirement already satisfied: lxml[html_clean] in c:\users\mokom\my_website\marilene-ws\nlp_env\lib\site-packages (6.0.2)
Requirement already satisfied: lxml_html_clean in c:\users\mokom\my_website\marilene-ws\nlp_env\lib\site-packages (from lxml[html_clean]) (0.4.3)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>'python-m' n'est pas reconnu en tant que commande interne
ou externe, un programme ex‚cutable ou un fichier de commandes.</code></pre>
</div>
</div>
<div id="6b725547" class="cell" data-execution_count="2">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> spacy</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
</section>
<section id="acquisition-de-données-par-écoute-dun-flux-rss" class="level2">
<h2 class="anchored" data-anchor-id="acquisition-de-données-par-écoute-dun-flux-rss">Acquisition de données par écoute d’un flux RSS</h2>
<section id="question-1" class="level3">
<h3 class="anchored" data-anchor-id="question-1">Question 1</h3>
<section id="q.1.1--importons-nos-differentes-bases-de-travail" class="level5">
<h5 class="anchored" data-anchor-id="q.1.1--importons-nos-differentes-bases-de-travail">Q.1.1- Importons nos differentes bases de travail</h5>
<div id="9d66d46c" class="cell" data-execution_count="3">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> json</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="co">## On a ici notre base contenant contenant les sources des flux RSS du site francetvinfo.fr</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span>(<span class="st">"tvinfo-sources.json"</span>, <span class="st">'r'</span>) <span class="im">as</span> f:</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>  fichier_source <span class="op">=</span>json.load(f)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<div id="f9d0a835" class="cell" data-execution_count="4">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co">## Ici, on dispose de la base contenant des articles du site francetvinfo.fr</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="cf">with</span> <span class="bu">open</span>(<span class="st">"francetvinfo.json"</span>, <span class="st">'r'</span>) <span class="im">as</span> f:</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  data_info <span class="op">=</span>json.load(f)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
</section>
<section id="q.1.2--analysons-la-base-de-données-existante-francetvinfo.json-regardons-sa-structure-et-les-informations-quelle-contient" class="level5">
<h5 class="anchored" data-anchor-id="q.1.2--analysons-la-base-de-données-existante-francetvinfo.json-regardons-sa-structure-et-les-informations-quelle-contient">Q.1.2- Analysons la base de données existante francetvinfo.json, regardons sa structure et les informations qu’elle contient</h5>
<div id="0c55f6e5" class="cell" data-execution_count="5">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co">## le type de notre base</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">type</span>(data_info))    <span class="co">## C'est un dictionnaire</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'</span><span class="ch">\n</span><span class="st">'</span>)</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a><span class="co">## la taille de notre base de données</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">len</span>(data_info))     <span class="co">## 2097</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'</span><span class="ch">\n</span><span class="st">'</span>)</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a><span class="co">## On parcoure 5 éléments de notre dictionnaire</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i, (key, value) <span class="kw">in</span> <span class="bu">enumerate</span>(data_info.items()):</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> i <span class="op">&lt;</span> <span class="dv">5</span>:  <span class="co"># Limiter à 5 éléments</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f"Clé: </span><span class="sc">{</span>key<span class="sc">}</span><span class="ss"> -&gt; Valeur: </span><span class="sc">{</span>value<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="bu">type</span>(value))</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>        <span class="cf">break</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'dict'&gt;


2097


Clé: https://www.francetvinfo.fr/sante/prevention/eure-quand-les-elus-apprennent-a-se-defendre_3791635.html#xtor=RSS-3-[france] -&gt; Valeur: {'title': "Violences contre les maires : dans l'Eure, des élus apprennent à se défendre", 'date': '2020-01-19T16:31:16', 'author': [], 'category': 'france', 'content': 'Beaucoup de maires et de secrétaires de mairie ont rencontré au cours de leurs mandats des problèmes de violence, essentiellement verbale. C\'est le cas de Claire. Un jour, un homme est entré dans son bureau et a frappé très fort sur son bureau pour l\'intimider. "J\'ai réagi à l\'instinct, j\'ai essayé de discuter, mais ça s\'est envenimé. Heureusement qu\'une dame est arrivée à la permanence et a menacé d\'appeler la gendarmerie", raconte Claire Carrère-Godebout, maire (SE) de Graveron-Sémerville (Eure).\n\nDes professeurs de karaté et un psychologue\n\nLa plupart de ces élus ne savent pas comment se comporter face à une situation conflictuelle. Alors, l\'Association des maires ruraux de l\'Eure les initie à l\'autodéfense, avec l\'aide de professeurs de karaté. Et un psychologue leur a expliqué comment désamorcer un différent. "C\'est nécessaire qu\'ils aient confiance en eux donc, à partir de là, je pense que cet atelier ne peut avoir que des bénéfices", explique Christophe Micaux.', 'image_link': 'https://www.francetvinfo.fr/image/75rt1bxrp-7049/1500/843/20799631.png'}
&lt;class 'dict'&gt;
Clé: https://www.francetvinfo.fr/france/video-sur-le-dos-d-un-aigle-pecheur-au-dessus-du-massif-du-mont-blanc-dont-les-glaciers-fondent-aujourd-hui-a-vue-d-oeil_3791583.html#xtor=RSS-3-[france] -&gt; Valeur: {'title': "VIDEO. Sur le dos d'un aigle pêcheur au-dessus du massif du Mont-Blanc dont les glaciers fondent aujourd'hui à vue d'œil", 'date': '2020-01-19T16:30:02', 'author': [], 'category': 'france', 'content': '#AlertePollution Rivières ou sols contaminés, déchets industriels abandonnés… Vous vivez à proximité d’un site pollué ?\n\nCliquez ici pour nous alerter !\n\nEmbarquement immédiat à bord du vol qu’entreprend Victor, un Pygargue à queue blanche (Haliaeetus albicilla), au-dessus du massif du Mont-Blanc. Le plus grand aigle d’Europe, qui peut mesurer jusqu’à 2,50 mètres d’envergure et peser sept kilos, est une espèce en voie de disparition que des passionnés essaient de remettre dans la nature.\n\nCe jour-là, pour le magazine "13h15 le dimanche" (replay), le rapace se lance d’une grande hauteur, avec une caméra embarquée, pour rejoindre son maître qui l’attend tout en bas dans la vallée. Un paysage grandiose, mais en grand danger à cause du réchauffement climatique qui fait fondre les glaces, défile sous l’animal au vol majestueux.\n\n"Les Alpes sont en train de brûler sous nos yeux et on regarde ailleurs"\n\nVictor n’a pas raté sa piste d’atterrissage, soit le bras du fauconnier Jacques-Olivier Travers : "C’est un aigle pêcheur qui vit dans l’air et dans l’eau car sa ressource alimentaire est principalement le poisson. Les glaciers sont la base de toute l’eau dans nos montagnes. Ce qui se passe en ce moment dans nos glaciers, c’est catastrophique. Et c’est pour ça que je suis là aujourd’hui. Pour attirer l’attention sur ce qui se passe", affirme-t-il.\n\n"On parle tout le temps de l’Antarctique, de l’Amazonie, mais j’ai l’impression qu’on ne voit pas que le cœur des Alpes est en train de fondre littéralement. Elles sont en train de brûler sous nos yeux et on regarde ailleurs. Derrière moi, on voit le glacier des Bossons. Quand j’étais enfant, je faisais dix minutes de marche pour le toucher. Aujourd’hui, il faut que je marche une heure et demie parce qu’il est remonté. Et ça, c’est partout dans les Alpes. J’espère que ces images vont toucher le cœur des gens pour qu’ils se disent qu’on va faire un effort pour sauver ce qui est sauvable."\n\n', 'image_link': 'https://www.francetvinfo.fr/image/75rt1br51-6dc7/1500/843/20799231.jpg'}
&lt;class 'dict'&gt;
Clé: https://www.francetvinfo.fr/societe/video-massif-du-mont-blanc-la-hausse-des-temperatures-fait-s-ecrouler-la-montagne-par-pans-entier-a-haute-altitude_3791537.html#xtor=RSS-3-[france] -&gt; Valeur: {'title': "VIDEO. Dans le massif du Mont-Blanc, la hausse des températures fait s'écrouler la montagne par pans entiers", 'date': '2020-01-19T16:29:55', 'author': [], 'category': 'france', 'content': '#AlertePollution Rivières ou sols contaminés, déchets industriels abandonnés… Vous vivez à proximité d’un site pollué ?\n\nCliquez ici pour nous alerter !\n\nLa hausse des températures, déjà responsable de la fonte accélérée des glaciers, est également la cause d’un phénomène plus récent : la montagne s’écroule par pans entiers, et à haute altitude ! Comme ici au sommet de la Tour Ronde qui culmine à 3 792 mètres dans le massif du Mont-Blanc, où s’est rendu le magazine "13h15 le dimanche" (replay). Les montagnards de la région ont longtemps cru ces parois en granit indestructibles.\n\nDeux guides de Chamonix, Philippe Batoux et Ludovic Ravanel, ce dernier également géomorphologue au CNRS, viennent aujourd’hui les ausculter à intervalles réguliers. Ce jour-là, ils constatent à nouveau leur dégradation continuelle. "Il faut imaginer que c’est une pente qui pouvait se descendre à ski. Et là on la voit dans des conditions qui font que ça ne ressemble plus à une pente skiable", se désole Philippe Batoux devant les éboulis au pied de la montagne.\n\n"C’est vraiment l’érosion en direct"\n\nPour connaître l’état de santé de la montagne, les deux hommes la passent au scanner. Les images recueillies leur permettent de détecter tout nouvel effondrement. "En 2003, il a fait très chaud pendant quasiment trois mois, y compris dans le massif du Mont-Blanc. Ça tombait de partout : des pierres, des blocs, des éboulements, etc. Chez les alpinistes, dont j’étais à l’époque, on s’est vraiment questionné sur ces évolutions. On savait beaucoup de choses sur les glaciers, mais très peu sur les parois", raconte le scientifique.\n\nDes pierres sont en train de tomber au loin… "C’est vraiment l’érosion en direct… note-t-il. Le réchauffement climatique fait que le permafrost fond. C’est le liant qu’il y a dans le granit. Le permafrost, c’est un état thermique, c’est-à-dire que la roche est durablement gelée. Cette température négative permet la présence de glace dans les fissures. Elle a un rôle de ciment. On parle de béton de glace, de ciment de glace. Si on le fait fondre, du fait du réchauffement climatique, on assiste à des écroulements de plus en plus fréquents et volumineux."', 'image_link': 'https://www.francetvinfo.fr/image/75rt1bbzf-016d/1500/843/20798879.jpg'}
&lt;class 'dict'&gt;
Clé: https://www.francetvinfo.fr/replay-magazine/france-2/13h15/13h15-du-dimanche-19-janvier-2020_3766797.html#xtor=RSS-3-[france] -&gt; Valeur: {'title': '"13h15 le dimanche". Le Mont-Blanc, un mythe éternel ?', 'date': '2020-01-19T16:29:48', 'author': [], 'category': 'france', 'content': 'Point culminant de la chaîne des Alpes avec une altitude de 4 810 mètres, plus haut sommet d\'Europe occidentale, le Mont-Blanc ne cesse d’attirer, d’impressionner, de fasciner… aussi bien l’amateur d’abîmes que le simple marcheur.\n\nCette montagne magique, située sur la frontière franco-italienne, entre le département de la Haute-Savoie, en France, et la vallée d\'Aoste, en Italie, est le berceau de l’alpinisme. Elle fait rêver par sa beauté et son histoire.\n\nTémoin du réchauffement climatique\n\nPour ce document signé Jean-Sébastien Desbordes, Matthieu Martin et Anthony Santoro, le magazine "13h15 le dimanche" (Facebook, Twitter, #13h15) est allé à la rencontre de montagnards passionnés : des guides de père en fils, des alpinistes, ou des cristalliers explorant les entrailles du massif.\n\nCe mythe éternel, qui souffre aujourd’hui du réchauffement climatique, a été le théâtre de drames survenus sur ses pentes. L\'un des plus poignants est celui qui a touché Jean Vincendon et François Henry, deux jeunes gens partis en 1956 pour son ascension hivernale… et qui n’en sont jamais revenus.\n\ndata:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==', 'image_link': 'https://www.francetvinfo.fr/image/75rszkkvp-244f/1500/843/20786143.jpg'}
&lt;class 'dict'&gt;
Clé: https://www.francetvinfo.fr/societe/loi-de-bioethique/loi-de-bioethique-les-opposants-a-la-pma-manifestent-a-paris_3791629.html#xtor=RSS-3-[france] -&gt; Valeur: {'title': 'Loi de bioéthique : les opposants à la PMA manifestent à Paris', 'date': '2020-01-19T16:08:10', 'author': [], 'category': 'france', 'content': 'Des associations catholiques, des jeunes, des retraités, des familles ont répondu à l\'appel du collectif "Marchons Enfants !", dimanche 19 janvier. Il rassemble 22 associations, dont la Manif pour tous, opposées à l\'ouverture de la procréation médicalement assistée aux couples de lesbiennes et aux femmes célibataires et espère rassembler autant que le 6 octobre dernier. "À l\'époque, plus de 74 000 personnes avaient défilé à Paris", rappelle la journaliste Carole Guyon, en direct du 7e arrondissement.\n\nUn texte déjà voté par l\'Assemblée en première lecture\n\nDimanche 19 janvier, une centaine de cars venue de toute la France a été spécialement affrétée par les organisateurs. Le cortège défilera jusqu\'à la place de l\'Opéra, dans le 9e arrondissement. Pour ces opposants déterminés, l\'objectif est clair : il s\'agit d\'obtenir le retrait pur et simple du projet de loi de bioéthique. Le texte, déjà voté par l\'Assemblée nationale en première lecture, sera examiné à partir du 21 janvier par le Sénat.', 'image_link': 'https://www.francetvinfo.fr/image/75rt1bbs2-3fa9/1500/843/20798783.jpg'}
&lt;class 'dict'&gt;</code></pre>
</div>
</div>
<p>On constate que notre base de données est un dictionnaire contenant 2097 éléments.</p>
<p>Chacun des elements de ce dictionnaire est un article issu du site francetvinfo.fr dont la clé represente le lien URL de l’article et la valeur est un dictionnaire contenant les informations de l’article notamment :<br>
- son titre : ‘title’<br>
-sa date de publication : ‘date’<br>
-Son auteur : ‘author’<br>
-Sa catégorie : ‘category’<br>
-son contenu : ‘content’<br>
-le lien de son image d’illustration : ‘image_link’</p>
</section>
<section id="q.1.2-" class="level5">
<h5 class="anchored" data-anchor-id="q.1.2-">Q.1.2-</h5>
</section>
<section id="q.1.2.1--analysons-au-préalable-le-contenu-de-la-base-tvinfo-sources.json" class="level5">
<h5 class="anchored" data-anchor-id="q.1.2.1--analysons-au-préalable-le-contenu-de-la-base-tvinfo-sources.json">Q.1.2.1- Analysons au préalable le contenu de la base tvinfo-sources.json</h5>
<div id="040ce0a6" class="cell" data-execution_count="6">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co">## le type de notre base</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">type</span>(fichier_source))  <span class="co">### C'est un dictionnaire</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'</span><span class="ch">\n</span><span class="st">'</span>)</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="co">## la taille de notre base de données</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">len</span>(fichier_source))  <span class="co">### 3</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'</span><span class="ch">\n</span><span class="st">'</span>)</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a><span class="co">## On parcoure les 3 éléments de notre dictionnaire</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i, (key, value) <span class="kw">in</span> <span class="bu">enumerate</span>(fichier_source.items()):</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f"Clé: </span><span class="sc">{</span>key<span class="sc">}</span><span class="ss"> -&gt; Valeur: </span><span class="sc">{</span>value<span class="sc">}</span><span class="ss">"</span>)</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="bu">type</span>(value))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'dict'&gt;


3


Clé: france -&gt; Valeur: https://www.francetvinfo.fr/france.rss
&lt;class 'str'&gt;
Clé: europe -&gt; Valeur: https://www.francetvinfo.fr/monde/europe.rss
&lt;class 'str'&gt;
Clé: economie -&gt; Valeur: https://www.francetvinfo.fr/economie/entreprises.rss
&lt;class 'str'&gt;</code></pre>
</div>
</div>
<p>Notre base fichier_source est un dictionnaire composé de 3 éléments. Chaque élément associe une clé, représentant une localisation géographique ou un secteur d’activité, à une valeur qui correspond au flux RSS lié.</p>
</section>
<section id="q.1.2.2--identifions-les-informations-disponibles-dans-nos-flux-rss-et-les-éléments-correspondants-dans-la-structure-de-données-retournées." class="level5">
<h5 class="anchored" data-anchor-id="q.1.2.2--identifions-les-informations-disponibles-dans-nos-flux-rss-et-les-éléments-correspondants-dans-la-structure-de-données-retournées.">Q.1.2.2- Identifions les informations disponibles dans nos flux RSS et les éléments correspondants dans la structure de données retournées.</h5>
<div id="954fdbdb" class="cell" data-execution_count="7">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> ssl</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> feedparser <span class="im">as</span> fp</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> pprint <span class="im">import</span> pprint</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a><span class="co">## Prémunissons nous contre le blocage de la commande SSL</span></span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>ssl._create_default_https_context <span class="op">=</span> ssl._create_unverified_context</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a><span class="co">## Recuperons ensuite nos flux RSS</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>urls <span class="op">=</span>  [url <span class="cf">for</span> url <span class="kw">in</span> fichier_source.values()]</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a><span class="co">## Parcourons chaque URL de flux RSS et,</span></span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> url <span class="kw">in</span> urls:</span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>  data <span class="op">=</span> fp.parse(url)</span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> item <span class="kw">in</span> data.entries:</span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>    <span class="co">## Affichons la structure de l'article (clé-valeur) pour le premier élément seulement</span></span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a>      pprint(item)</span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a>      <span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">"</span>)</span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a>      <span class="cf">break</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>{'guidislink': False,
 'id': 'https://www.franceinfo.fr/societe/drogue/direct-assassinat-de-mehdi-kessaci-un-rassemblement-sous-haute-securite-attendu-a-marseille-a-partir-de-15-heures_7632836.html#xtor=RSS-3-%5Bgeneral%5D',
 'link': 'https://www.franceinfo.fr/societe/drogue/direct-assassinat-de-mehdi-kessaci-un-rassemblement-sous-haute-securite-attendu-a-marseille-a-partir-de-15-heures_7632836.html#xtor=RSS-3-%5Bgeneral%5D',
 'links': [{'href': 'https://www.franceinfo.fr/societe/drogue/direct-assassinat-de-mehdi-kessaci-un-rassemblement-sous-haute-securite-attendu-a-marseille-a-partir-de-15-heures_7632836.html#xtor=RSS-3-%5Bgeneral%5D',
            'rel': 'alternate',
            'type': 'text/html'},
           {'href': 'https://www.franceinfo.fr/pictures/i8B5Zu-ubgCry2-oczLj1GcCGd4/0x184:3534x2172/432x243/filters:format(jpg)/2025/11/22/000-84uj4jq-6921ef8329fa2150733839.jpg',
            'length': '243',
            'rel': 'enclosure',
            'type': 'image/jpeg'}],
 'published': 'Sat, 22 Nov 2025 18:16:10 +0100',
 'published_parsed': time.struct_time(tm_year=2025, tm_mon=11, tm_mday=22, tm_hour=17, tm_min=16, tm_sec=10, tm_wday=5, tm_yday=326, tm_isdst=0),
 'summary': '"Mon cœur est déchiré, je suis inconsolable", a déclaré la mère '
            "du jeune homme tué le 13 novembre, accompagnée de l'un de ses "
            'autres enfants, Amine, militant écologiste et anti-drogue de 22 '
            'ans.',
 'summary_detail': {'base': 'https://www.franceinfo.fr/france.rss',
                    'language': None,
                    'type': 'text/html',
                    'value': '"Mon cœur est déchiré, je suis inconsolable", a '
                             'déclaré la mère du jeune homme tué le 13 '
                             "novembre, accompagnée de l'un de ses autres "
                             'enfants, Amine, militant écologiste et '
                             'anti-drogue de 22 ans.'},
 'title': 'DIRECT. Hommage à Mehdi Kessaci : plus de 6\xa0000 personnes se '
          'sont rassemblées à Marseille, selon la préfecture',
 'title_detail': {'base': 'https://www.franceinfo.fr/france.rss',
                  'language': None,
                  'type': 'text/plain',
                  'value': 'DIRECT. Hommage à Mehdi Kessaci : plus de 6\xa0000 '
                           'personnes se sont rassemblées à Marseille, selon '
                           'la préfecture'}}


{'guidislink': False,
 'id': 'https://www.franceinfo.fr/vrai-ou-fake/nucleaire-la-france-depend-toujours-de-la-russie_7633241.html#xtor=RSS-3-%5Bgeneral%5D',
 'link': 'https://www.franceinfo.fr/vrai-ou-fake/nucleaire-la-france-depend-toujours-de-la-russie_7633241.html#xtor=RSS-3-%5Bgeneral%5D',
 'links': [{'href': 'https://www.franceinfo.fr/vrai-ou-fake/nucleaire-la-france-depend-toujours-de-la-russie_7633241.html#xtor=RSS-3-%5Bgeneral%5D',
            'rel': 'alternate',
            'type': 'text/html'},
           {'href': 'https://www.franceinfo.fr/pictures/1aXSaOn7rv9YQ2_B_43GSn7TTTk/0x0:1513x851/432x243/filters:format(jpg)/2025/11/22/nucleaire-6921e18360dff564916448.jpg',
            'length': '243',
            'rel': 'enclosure',
            'type': 'image/jpeg'}],
 'published': 'Sat, 22 Nov 2025 17:19:25 +0100',
 'published_parsed': time.struct_time(tm_year=2025, tm_mon=11, tm_mday=22, tm_hour=16, tm_min=19, tm_sec=25, tm_wday=5, tm_yday=326, tm_isdst=0),
 'summary': 'La France cherche à conserver ses intérêts économiques et '
            'stratégiques tout en respectant les sanctions européennes mises '
            'en place face à la Russie depuis trois ans et demi, notamment '
            "dans le domaine de l'énergie. Pourtant, l'État français est "
            'toujours en collaboration avec la Russie concernant des échanges '
            'nucléaires.',
 'summary_detail': {'base': 'https://www.franceinfo.fr/monde/europe.rss',
                    'language': None,
                    'type': 'text/html',
                    'value': 'La France cherche à conserver ses intérêts '
                             'économiques et stratégiques tout en respectant '
                             'les sanctions européennes mises en place face à '
                             'la Russie depuis trois ans et demi, notamment '
                             "dans le domaine de l'énergie. Pourtant, l'État "
                             'français est toujours en collaboration avec la '
                             'Russie concernant des échanges nucléaires.'},
 'title': 'Nucléaire : la France dépend toujours de la Russie ?',
 'title_detail': {'base': 'https://www.franceinfo.fr/monde/europe.rss',
                  'language': None,
                  'type': 'text/plain',
                  'value': 'Nucléaire : la France dépend toujours de la Russie '
                           '?'}}


{'guidislink': False,
 'id': 'https://www.franceinfo.fr/vrai-ou-fake/shein-la-poste-subventionne-t-elle-les-colis-qui-viennent-de-chine_7633223.html#xtor=RSS-3-%5Bgeneral%5D',
 'link': 'https://www.franceinfo.fr/vrai-ou-fake/shein-la-poste-subventionne-t-elle-les-colis-qui-viennent-de-chine_7633223.html#xtor=RSS-3-%5Bgeneral%5D',
 'links': [{'href': 'https://www.franceinfo.fr/vrai-ou-fake/shein-la-poste-subventionne-t-elle-les-colis-qui-viennent-de-chine_7633223.html#xtor=RSS-3-%5Bgeneral%5D',
            'rel': 'alternate',
            'type': 'text/html'},
           {'href': 'https://www.franceinfo.fr/pictures/TV4rf1mk2WGEnb-SFwY6t8euGa8/0x0:1527x859/432x243/filters:format(jpg)/2025/11/22/colischinois-6921db43dfc7d396945384.jpg',
            'length': '243',
            'rel': 'enclosure',
            'type': 'image/jpeg'}],
 'published': 'Sat, 22 Nov 2025 17:38:02 +0100',
 'published_parsed': time.struct_time(tm_year=2025, tm_mon=11, tm_mday=22, tm_hour=16, tm_min=38, tm_sec=2, tm_wday=5, tm_yday=326, tm_isdst=0),
 'summary': 'La convocation des dirigeants de Shein devant les députés, qui '
            'aurait dû avoir lieu fin novembre, a été décalée au 2 décembre. '
            "L'entreprise a écrit à la présidente de la Commission, assurant "
            'ne pas pouvoir se déplacer. Plusieurs questions des députés '
            'porteront sur le scandale des poupées pédopornographiques, mais '
            'aussi sur les prix des produits sur la plateforme. Comment se '
            "fait-il, par exemple, qu'il n'y ait quasiment aucun frais de "
            'livraison sur le site ? L\'équipe de "Vrai ou Faux" s\'est '
            'penchée sur la question.',
 'summary_detail': {'base': 'https://www.franceinfo.fr/economie/entreprises.rss',
                    'language': None,
                    'type': 'text/html',
                    'value': 'La convocation des dirigeants de Shein devant '
                             'les députés, qui aurait dû avoir lieu fin '
                             'novembre, a été décalée au 2 décembre. '
                             "L'entreprise a écrit à la présidente de la "
                             'Commission, assurant ne pas pouvoir se déplacer. '
                             'Plusieurs questions des députés porteront sur le '
                             'scandale des poupées pédopornographiques, mais '
                             'aussi sur les prix des produits sur la '
                             'plateforme. Comment se fait-il, par exemple, '
                             "qu'il n'y ait quasiment aucun frais de livraison "
                             'sur le site ? L\'équipe de "Vrai ou Faux" s\'est '
                             'penchée sur la question.'},
 'title': 'Shein : La Poste subventionne-t-elle les colis qui viennent de '
          'Chine ?',
 'title_detail': {'base': 'https://www.franceinfo.fr/economie/entreprises.rss',
                  'language': None,
                  'type': 'text/plain',
                  'value': 'Shein : La Poste subventionne-t-elle les colis qui '
                           'viennent de Chine ?'}}

</code></pre>
</div>
</div>
<p>En observant les structures des premiers articles pour chacun de nos 3 flux, on observe que chacun des items pour ces liens ont vraisemblablement la même structure, et contiennent: l’identification, le lien, la date de publication, un resumé sommaire, le titre et le contenu des articles …</p>
</section>
<section id="q.1.3--pour-chacun-des-flux-rss-listés-dans-le-fichier-tvinfo-sources.json-effectuons-les-opérations-suivantes" class="level5">
<h5 class="anchored" data-anchor-id="q.1.3--pour-chacun-des-flux-rss-listés-dans-le-fichier-tvinfo-sources.json-effectuons-les-opérations-suivantes">Q.1.3- pour chacun des flux RSS listés dans le fichier tvinfo-sources.json effectuons les opérations suivantes:</h5>
<ul>
<li>lisons les données du flux RSS<br>
</li>
<li>scannons les articles et repérons ceux qui ne sont pas déjà a présents dans la base de données</li>
</ul>
<div id="7d3e2cc4" class="cell" data-execution_count="8">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co">## Créons une fonction qui permettrait de  scanner les articles et repérer ceux qui ne sont pas déjà présents dans la base de données</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> check_new_articles(fichier_source):</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>  <span class="co">"""</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="co">  Cette fonction scanne les articles dans les flux RSS présents dans 'fichier_source' et identifie ceux qui ne sont pas déjà présents</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a><span class="co">  dans la base de données 'data_info'.</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a><span class="co">  Parameters :</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a><span class="co">  - fichier_source : Dictionnaire contenant les catégories de flux RSS (clé) et leurs URL (valeur).</span></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a><span class="co">  Retour :</span></span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a><span class="co">  - new_links : Liste des liens des articles qui ne sont pas encore dans la base de données 'data_info'.</span></span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a><span class="co">  """</span></span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>  new_links <span class="op">=</span> []</span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>  <span class="co">## On parcoure les données dans chacun des flux du fichier source</span></span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> url <span class="kw">in</span> [value <span class="cf">for</span> value <span class="kw">in</span> fichier_source.values()]:</span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a>    <span class="co">## On lit chacun des flux RSS</span></span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(url)</span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a>    data <span class="op">=</span> fp.parse(url)</span>
<span id="cb14-22"><a href="#cb14-22" aria-hidden="true" tabindex="-1"></a>    lien_source <span class="op">=</span> [item.link <span class="cf">for</span> item <span class="kw">in</span> data.entries]</span>
<span id="cb14-23"><a href="#cb14-23" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"le nombre de liens dans la source"</span>, <span class="bu">len</span>(lien_source))</span>
<span id="cb14-24"><a href="#cb14-24" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> item <span class="kw">in</span> data.entries:</span>
<span id="cb14-25"><a href="#cb14-25" aria-hidden="true" tabindex="-1"></a>      <span class="co">### scannons les articles et reperons ceux qui ne sont pas déjà présents dans la base de données data-info</span></span>
<span id="cb14-26"><a href="#cb14-26" aria-hidden="true" tabindex="-1"></a>      lien_article <span class="op">=</span> item.link</span>
<span id="cb14-27"><a href="#cb14-27" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> lien_article <span class="kw">not</span> <span class="kw">in</span> [liens_deja_p <span class="cf">for</span> liens_deja_p <span class="kw">in</span> data_info.keys()]:</span>
<span id="cb14-28"><a href="#cb14-28" aria-hidden="true" tabindex="-1"></a>        new_links.append(lien_article)</span>
<span id="cb14-29"><a href="#cb14-29" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"le nombre de nouveaux articles est: "</span>, <span class="bu">len</span>(new_links))</span>
<span id="cb14-30"><a href="#cb14-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-31"><a href="#cb14-31" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> new_links</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<div id="7e07e325" class="cell" data-execution_count="9">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>new_links<span class="op">=</span>check_new_articles(fichier_source)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>https://www.francetvinfo.fr/france.rss
le nombre de liens dans la source 20
le nombre de nouveaux articles est:  20
https://www.francetvinfo.fr/monde/europe.rss
le nombre de liens dans la source 20
le nombre de nouveaux articles est:  40
https://www.francetvinfo.fr/economie/entreprises.rss
le nombre de liens dans la source 19
le nombre de nouveaux articles est:  59</code></pre>
</div>
</div>
<p>Nos flux RSS nous renvoient au total vers 60 articles. Et, le code ci dessus nous inquique que tous ces 60 articles ne sont pas présent dans notre base d’articles existants francetv-info.json(data_info)</p>
</section>
</section>
<section id="q.2.--" class="level3">
<h3 class="anchored" data-anchor-id="q.2.--">Q.2. -</h3>
<p>Nous avons choisi l’article dont le lien est le suivant: https://www.francetvinfo.fr/france/grand-est/bas-rhin/strasbourg/nouvel-an-un-adolescent-meurt-a-strasbourg-percute-par-un-vehicule-en-fuite_6988709.html#xtor=RSS-3-[general].</p>
<p>Après inspection de la page web associée, nous constatons que sa structure repose sur un code HTML bien organisé :</p>
<ul>
<li><p>Le titre de l’article est situé dans une balise de type h1 avec une classe nommée “c-title”.</p></li>
<li><p>Le contenu de l’article se trouve dans une section principale identifiée par une balise div avec une classe “c-body”.</p></li>
</ul>
<p>Pour accéder à ce contenu, il est possible d’utiliser des bibliothèques adaptées à l’analyse et au traitement des pages HTML que nous avons vu l’année derniere en compléments d’info. On pourrait notamment se servir de BeautifulSoup ou encore de Selenuim au cas où notre contenu serait généré dynamiquement avec JavaScript.</p>
<p>Cette inspection préalable rend la tâche d’extraction de données fastidieuse et pourrait davantage l’être pour des pages avec des structures complexes.<br>
Le recours à la librairie newspaper represente une alternative plus simple à l’utisation de ces bibliothèques . En effet, elle permet d’automatiser la recherche et l’extraction des informations clés tels que le contenu de l’article même pour des pages avec des structures complexes.</p>
</section>
<section id="question-3-mettons-à-jour-notre-base-de-données-data_info-avec-les-articles-contenus-dans-les-flux-rss-à-notre-dispositions" class="level3">
<h3 class="anchored" data-anchor-id="question-3-mettons-à-jour-notre-base-de-données-data_info-avec-les-articles-contenus-dans-les-flux-rss-à-notre-dispositions">Question 3 : Mettons à jour notre base de données data_info avec les articles contenus dans les flux RSS à notre dispositions</h3>
<div id="4758a364" class="cell" data-execution_count="10">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co">## Importons  newpaper</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> newspaper <span class="im">as</span> np</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<div id="d388d64a" class="cell" data-execution_count="11">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> complete_data_info(data_info,fichier_source):</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="co">"""</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="co">  data_info correspond à la base des articles à completer</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a><span class="co">  fichier_source correspond au fichier json contenant les liens des flux RSS</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a><span class="co">   La fonction parcourt chaque flux RSS dans 'fichier_source', télécharge et parse</span></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a><span class="co">   les articles associés à chaque flux, puis ajoute ses informations à 'data_info'.</span></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a><span class="co">  la fonction retourne la base de données complétée avec les nouveaux articles</span></span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a><span class="co">  """</span></span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>  <span class="co">### On parcoure nos flux RSS</span></span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> _, (key, url) <span class="kw">in</span> <span class="bu">enumerate</span>(fichier_source.items()):</span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a>    <span class="co">### On parse nos flux RSS</span></span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a>    data <span class="op">=</span> fp.parse(url)</span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a>    <span class="co">### On recupère les les liens de chacune de nos pages</span></span>
<span id="cb18-17"><a href="#cb18-17" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> item <span class="kw">in</span> data.entries:</span>
<span id="cb18-18"><a href="#cb18-18" aria-hidden="true" tabindex="-1"></a>      html <span class="op">=</span> item.link</span>
<span id="cb18-19"><a href="#cb18-19" aria-hidden="true" tabindex="-1"></a>      article <span class="op">=</span> np.Article(html)</span>
<span id="cb18-20"><a href="#cb18-20" aria-hidden="true" tabindex="-1"></a>      article.download()</span>
<span id="cb18-21"><a href="#cb18-21" aria-hidden="true" tabindex="-1"></a>      article.parse()</span>
<span id="cb18-22"><a href="#cb18-22" aria-hidden="true" tabindex="-1"></a>      value_to_add <span class="op">=</span> <span class="bu">dict</span>(title <span class="op">=</span> article.title, date <span class="op">=</span> article.publish_date, author <span class="op">=</span> article.authors, category <span class="op">=</span> key, content <span class="op">=</span> article.text, image_link <span class="op">=</span> article.top_image)</span>
<span id="cb18-23"><a href="#cb18-23" aria-hidden="true" tabindex="-1"></a>      data_info[item.link] <span class="op">=</span> value_to_add</span>
<span id="cb18-24"><a href="#cb18-24" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> data_info</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<div id="eef73637" class="cell" data-execution_count="12">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co">## On affiche la taille initiale</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="bu">len</span>(data_info)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="12">
<pre><code>2097</code></pre>
</div>
</div>
<div id="60a820aa" class="cell" data-execution_count="13">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co">## On applique notre fonction</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>data_info_complete <span class="op">=</span> complete_data_info(data_info,fichier_source)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<div id="b5ad58e5" class="cell" data-execution_count="14">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co">## On afficle la taille de notre base complétée</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">len</span>(data_info_complete))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>2156</code></pre>
</div>
</div>
<div id="91b2cd4d" class="cell" data-execution_count="15">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">type</span>(data_info_complete))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'dict'&gt;</code></pre>
</div>
</div>
</section>
<section id="q.4.---comment-se-prémunir-dune-eventuelle-suppression-des-images-illustratives-de-nos-articles-sur-les-sites-web" class="level3">
<h3 class="anchored" data-anchor-id="q.4.---comment-se-prémunir-dune-eventuelle-suppression-des-images-illustratives-de-nos-articles-sur-les-sites-web">Q.4. - Comment se prémunir d’une eventuelle suppression des images illustratives de nos articles sur les sites web?</h3>
<p>Étant donné que la bibliothèque newspaper permet d’accéder facilement aux URLs des images illustratives, il est possible de prendre les mesures suivantes pour conserver ces images :</p>
<ul>
<li><strong>Identifier et vérifier les URLs des images</strong> -<strong>Télécharger et sauvegarder les images localement</strong> : Télécharger les images à partir de leurs URLs et les stocker localement en suivant une structure organisée. -<strong>Associer les chemins locaux aux articles</strong> : Lier les images téléchargées aux articles correspondants dans notre base de données.</li>
</ul>
<p>On pourrait donc ainsi conserver une copie des images illustratives, assurant leur disponibilité même si elles sont supprimées du site source.</p>
</section>
<section id="la-question-5-a-été-omise-dans-lénoncé-du-projet" class="level3">
<h3 class="anchored" data-anchor-id="la-question-5-a-été-omise-dans-lénoncé-du-projet">La question 5 a été omise dans l’énoncé du projet</h3>
</section>
<section id="q.6.--donnons-une-idée-dune-ou-plusieurs-autres-sources-que-lon-pourrait-on-écouter-pour-collecter-des-informations-complémentaires-sur-ces-articles" class="level3">
<h3 class="anchored" data-anchor-id="q.6.--donnons-une-idée-dune-ou-plusieurs-autres-sources-que-lon-pourrait-on-écouter-pour-collecter-des-informations-complémentaires-sur-ces-articles">Q.6.- Donnons une idée d’une (ou plusieurs) autre(s) source(s) que l’on pourrait-on écouter pour collecter des informations complémentaires sur ces articles ?</h3>
<p>Afin de collecter davantage d’informations sur nos articles, une ressource pertinente pourrait être le contenu des commentaires relatifs à ces articles ainsi que les likes associés.</p>
<p><strong>Extraction des commentaires</strong><br>
Les commentaires relatifs aux articles peuvent être extraits en utilisant des bibliothèques comme <strong>BeautifulSoup</strong> ou <strong>Selenium</strong>, déjà mentionnées plus haut.</p>
<p><strong>Quelles informations pertinentes peut-on tirer du contenu des commentaires d’un article ?</strong> - Les commentaires permettent d’évaluer le ressenti des lecteurs vis-à-vis d’un article. - Pour cela, on pourrait exploiter le travail réalisé lors du TP2 en classe, notamment en utilisant la bibliothèque SentiWordNet pour calculer les scores de polarité moyens (positifs et négatifs) des commentaires associé à l’article.</p>
<p><strong>Quelles informations pertinentes peut-on tirer des likes ?</strong><br>
Sachant que tous les lecteurs ne commentent pas, leur avis peut être reflété par les likes attribués aux commentaires existants. Ainsi, afin de refleter de maniere plus vraissemblable le ressenti des lecteurs par rapport à un article, on pourrait calculer une moyenne arithmétique pondérée des scores de polarité (positifs ou négatifs) des commentaires, en utilisant le nombre de likes comme poids.</p>
<p>On pourrait également scraper d’autres informations utiles et qui ne sont pas disponibles dans notre base de données actuelle telles que le temps de lecture…</p>
</section>
</section>
</section>
<section id="extraction-dinformation" class="level1">
<h1>Extraction d’information</h1>
<section id="extraction-des-entités-nommées" class="level2">
<h2 class="anchored" data-anchor-id="extraction-des-entités-nommées">Extraction des entités nommées</h2>
<div id="75207c65" class="cell" data-execution_count="16">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> spacy</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="op">!</span>python <span class="op">-</span>m spacy download fr_core_news_md</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a><span class="co">### On charge notre pipeline</span></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>process <span class="op">=</span> spacy.load(<span class="st">"fr_core_news_md"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<div class="ansi-escaped-output">
<pre>Collecting fr-core-news-md==3.8.0

  Downloading https://github.com/explosion/spacy-models/releases/download/fr_core_news_md-3.8.0/fr_core_news_md-3.8.0-py3-none-any.whl (45.8 MB)

     ---------------------------------------- 0.0/45.8 MB ? eta -:--:--

     ---------------------------------------- 0.0/45.8 MB ? eta -:--:--

     ---------------------------------------- 0.5/45.8 MB 2.4 MB/s eta 0:00:19

     - -------------------------------------- 1.8/45.8 MB 5.0 MB/s eta 0:00:09

     -- ------------------------------------- 3.4/45.8 MB 6.3 MB/s eta 0:00:07

     ---- ----------------------------------- 5.2/45.8 MB 7.1 MB/s eta 0:00:06

     ------ --------------------------------- 7.1/45.8 MB 7.5 MB/s eta 0:00:06

     ------- -------------------------------- 8.4/45.8 MB 7.1 MB/s eta 0:00:06

     -------- ------------------------------- 10.0/45.8 MB 7.3 MB/s eta 0:00:05

     ---------- ----------------------------- 11.8/45.8 MB 7.5 MB/s eta 0:00:05

     ------------ --------------------------- 14.2/45.8 MB 7.9 MB/s eta 0:00:05

     ------------- -------------------------- 16.0/45.8 MB 8.1 MB/s eta 0:00:04

     --------------- ------------------------ 17.3/45.8 MB 7.8 MB/s eta 0:00:04

     ---------------- ----------------------- 18.6/45.8 MB 7.6 MB/s eta 0:00:04

     ----------------- ---------------------- 20.2/45.8 MB 7.7 MB/s eta 0:00:04

     ------------------- -------------------- 22.3/45.8 MB 7.7 MB/s eta 0:00:04

     -------------------- ------------------- 23.6/45.8 MB 7.8 MB/s eta 0:00:03

     --------------------- ------------------ 25.2/45.8 MB 7.7 MB/s eta 0:00:03

     ----------------------- ---------------- 27.3/45.8 MB 7.7 MB/s eta 0:00:03

     ------------------------- -------------- 29.4/45.8 MB 7.9 MB/s eta 0:00:03

     --------------------------- ------------ 31.2/45.8 MB 7.9 MB/s eta 0:00:02

     ---------------------------- ----------- 32.8/45.8 MB 7.9 MB/s eta 0:00:02

     ----------------------------- ---------- 34.3/45.8 MB 7.9 MB/s eta 0:00:02

     ------------------------------- -------- 35.9/45.8 MB 7.9 MB/s eta 0:00:02

     -------------------------------- ------- 37.5/45.8 MB 7.9 MB/s eta 0:00:02

     ---------------------------------- ----- 39.6/45.8 MB 7.9 MB/s eta 0:00:01

     ----------------------------------- ---- 40.6/45.8 MB 7.8 MB/s eta 0:00:01

     ------------------------------------ --- 42.2/45.8 MB 7.8 MB/s eta 0:00:01

     -------------------------------------- - 44.0/45.8 MB 7.8 MB/s eta 0:00:01

     ---------------------------------------  45.6/45.8 MB 7.8 MB/s eta 0:00:01

     ---------------------------------------- 45.8/45.8 MB 7.6 MB/s  0:00:06

<span class="ansi-green-fg">[+] Download and installation successful</span>

You can now load the package via spacy.load('fr_core_news_md')
</pre>
</div>
</div>
</div>
<section id="q.7" class="level3">
<h3 class="anchored" data-anchor-id="q.7">Q.7</h3>
<section id="q.7.1--expliquons-à-quoi-correspondent-les-étiquettes-iob" class="level4">
<h4 class="anchored" data-anchor-id="q.7.1--expliquons-à-quoi-correspondent-les-étiquettes-iob">Q.7.1- Expliquons à quoi correspondent les étiquettes IOB ?</h4>
<p>Les étiquettes IOB (Inside, Outside, Beginning) utilisées dans l’énoncé correspondent à un format utilisé pour annoter les entités dans un texte lors de la tâche de reconnaissance d’entités. Elles permettent de marquer les différentes parties d’une entité dans un texte. - L’étiquette <strong>B</strong> (Beginning) marque le début d’une entité. - L’étiquette <strong>I</strong> (Inside) marque les mots qui font partie d’une entité déjà commencée. - L’étiquette <strong>O</strong> (Outside) marque un mot qui n’appartient à aucune entité</p>
</section>
<section id="q.7.2--expliquons-brièvement-une-technique-description-de-la-tâche-du-modèle-pour-la-détection-des-entités-nommées" class="level4">
<h4 class="anchored" data-anchor-id="q.7.2--expliquons-brièvement-une-technique-description-de-la-tâche-du-modèle-pour-la-détection-des-entités-nommées">Q.7.2- Expliquons brièvement une technique (description de la tâche, du modèle) pour la détection des entités nommées</h4>
<p>La détection des entités nommées est une tâche de traitement du langage naturel (NLP) qui consiste à identifier et classifier des entités comme des personnes, des lieux, des organisations, etc., dans un texte.</p>
<ul>
<li>Présentons brèvement le modèle <strong>BERT</strong></li>
</ul>
<p>Une technique courante pour détecter les entités nommées repose sur l’utilisation de modèles pré-entraînés tels que BERT (Bidirectional Encoder Representations from Transformers). BERT est un modèle de langage basé sur l’architecture des Transformers qui repose sur un apprentissage bidirectionnel, ce qui lui permet de comprendre le contexte des mots en prenant en compte à la fois les mots précédents et suivants. Contrairement aux modèles unidirectionnels, BERT analyse un texte dans les deux sens, ce qui améliore considérablement sa compréhension du langage.<br>
Il d’abord pré-entraîné sur une large base de textes, puis il est tuné sur des données spécifiques pour des tâches comme la classification des entités.</p>
<div id="fc7b02f2" class="cell" data-execution_count="17">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># process text with pipeline</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>res <span class="op">=</span> process(<span class="st">"Jean Dupont est maire de Plouguemeur"</span>)</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a><span class="co"># list e that were detected</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a><span class="co">#for e in res.ents:</span></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>  <span class="co">#print(e.text, e.start, e.end, e.label_)</span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> token <span class="kw">in</span> res:</span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>  <span class="bu">print</span>(token, token.ent_iob_, token.ent_type_, token.is_sent_start)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Jean B PER True
Dupont I PER False
est O  False
maire O  False
de O  False
Plouguemeur B LOC False</code></pre>
</div>
</div>
</section>
</section>
<section id="q.8.--ecrivons-un-programme-qui-traite-lensemble-des-textes-que-nous-aurons-chargé-depuis-le-fichier-francetvinfo.json-mis-à-jour-et-stock-pour-chaque-article-les-entités-trouvées-et-les-informations-afférentes." class="level3">
<h3 class="anchored" data-anchor-id="q.8.--ecrivons-un-programme-qui-traite-lensemble-des-textes-que-nous-aurons-chargé-depuis-le-fichier-francetvinfo.json-mis-à-jour-et-stock-pour-chaque-article-les-entités-trouvées-et-les-informations-afférentes.">Q.8.- Ecrivons un programme qui traite l’ensemble des textes que nous aurons chargé depuis le fichier francetvinfo.json mis à jour et stock pour chaque article les entités trouvées et les informations afférentes.</h3>
<div id="037e9835" class="cell" data-execution_count="18">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> spacy</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> find_entities(data_info_complete):</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>  <span class="co">"""</span></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a><span class="co">  Notre fonction prend en entrée la base de données complétée (mise à jour)</span></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a><span class="co">  Fonctionnement :</span></span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a><span class="co">  Elle parcoure chacun des articles de ladite base,</span></span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a><span class="co">  elle recupere pour chacun d'eux, le titre, le lien et le contenu( qu'elle va  processer).</span></span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a><span class="co">  Notre fonction retourne une liste de dictionnaires,</span></span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a><span class="co">  chacun des dictionnaires correspond à un article de la base et comporte 3 paires clé-valeur que sont:</span></span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-15"><a href="#cb29-15" aria-hidden="true" tabindex="-1"></a><span class="co">    - la clé 'title' dont la valeur est effectivement le titre de l'article</span></span>
<span id="cb29-16"><a href="#cb29-16" aria-hidden="true" tabindex="-1"></a><span class="co">    - la clé 'entities' dont la valeur est une liste de dictionnaires. Chacun des dictionnaires est relatif</span></span>
<span id="cb29-17"><a href="#cb29-17" aria-hidden="true" tabindex="-1"></a><span class="co">    à une entité comporte 4 paires clé-valeur qui fournissent les informations sur cette entité : entité,</span></span>
<span id="cb29-18"><a href="#cb29-18" aria-hidden="true" tabindex="-1"></a><span class="co">    début, fin et label.</span></span>
<span id="cb29-19"><a href="#cb29-19" aria-hidden="true" tabindex="-1"></a><span class="co">    - la clé 'links' dont la valeur est le lien de l'article.</span></span>
<span id="cb29-20"><a href="#cb29-20" aria-hidden="true" tabindex="-1"></a><span class="co">  """</span></span>
<span id="cb29-21"><a href="#cb29-21" aria-hidden="true" tabindex="-1"></a>  contents <span class="op">=</span> []</span>
<span id="cb29-22"><a href="#cb29-22" aria-hidden="true" tabindex="-1"></a>  titles <span class="op">=</span> []</span>
<span id="cb29-23"><a href="#cb29-23" aria-hidden="true" tabindex="-1"></a>  links <span class="op">=</span> []</span>
<span id="cb29-24"><a href="#cb29-24" aria-hidden="true" tabindex="-1"></a>  all_articles <span class="op">=</span> []</span>
<span id="cb29-25"><a href="#cb29-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-26"><a href="#cb29-26" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Créons les data frames pour les titres et pour les contenus des articles</span></span>
<span id="cb29-27"><a href="#cb29-27" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> _, (key, value) <span class="kw">in</span> <span class="bu">enumerate</span>(data_info_complete.items()):</span>
<span id="cb29-28"><a href="#cb29-28" aria-hidden="true" tabindex="-1"></a>      titles.append(value[<span class="st">'title'</span>])</span>
<span id="cb29-29"><a href="#cb29-29" aria-hidden="true" tabindex="-1"></a>      contents.append(value[<span class="st">"content"</span>])</span>
<span id="cb29-30"><a href="#cb29-30" aria-hidden="true" tabindex="-1"></a>      links.append(key)</span>
<span id="cb29-31"><a href="#cb29-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-32"><a href="#cb29-32" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Créons d'un DataFrame  avec les colonnes titre , contenu et liens.</span></span>
<span id="cb29-33"><a href="#cb29-33" aria-hidden="true" tabindex="-1"></a>  df_infos_articles <span class="op">=</span> pd.DataFrame({</span>
<span id="cb29-34"><a href="#cb29-34" aria-hidden="true" tabindex="-1"></a>    <span class="st">"title"</span>: titles,</span>
<span id="cb29-35"><a href="#cb29-35" aria-hidden="true" tabindex="-1"></a>    <span class="st">"content"</span>: contents,</span>
<span id="cb29-36"><a href="#cb29-36" aria-hidden="true" tabindex="-1"></a>    <span class="st">"links"</span>: links</span>
<span id="cb29-37"><a href="#cb29-37" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb29-38"><a href="#cb29-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-39"><a href="#cb29-39" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Parcourons chaque document dans df_contents et traitons le contenu (texte) associé</span></span>
<span id="cb29-40"><a href="#cb29-40" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> i, doc <span class="kw">in</span> <span class="bu">enumerate</span>(process.pipe(df_infos_articles[<span class="st">"content"</span>], disable<span class="op">=</span>[<span class="st">"pos"</span>, <span class="st">"parser"</span>])):</span>
<span id="cb29-41"><a href="#cb29-41" aria-hidden="true" tabindex="-1"></a>      <span class="co"># On créé un dictionnaire pour chaque article</span></span>
<span id="cb29-42"><a href="#cb29-42" aria-hidden="true" tabindex="-1"></a>      dic_articles <span class="op">=</span> {<span class="st">"title"</span>: df_infos_articles[<span class="st">"title"</span>][i], <span class="st">"entities"</span>: [], <span class="st">"links"</span>: df_infos_articles[<span class="st">"links"</span>][i]}</span>
<span id="cb29-43"><a href="#cb29-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-44"><a href="#cb29-44" aria-hidden="true" tabindex="-1"></a>      <span class="co">## On extrait nos entités pour le contenu de chaque article</span></span>
<span id="cb29-45"><a href="#cb29-45" aria-hidden="true" tabindex="-1"></a>      <span class="cf">for</span> e <span class="kw">in</span> doc.ents:</span>
<span id="cb29-46"><a href="#cb29-46" aria-hidden="true" tabindex="-1"></a>          dic_articles[<span class="st">"entities"</span>].append({</span>
<span id="cb29-47"><a href="#cb29-47" aria-hidden="true" tabindex="-1"></a>              <span class="st">"entite"</span>: e.text,</span>
<span id="cb29-48"><a href="#cb29-48" aria-hidden="true" tabindex="-1"></a>              <span class="st">"debut"</span>: e.start,</span>
<span id="cb29-49"><a href="#cb29-49" aria-hidden="true" tabindex="-1"></a>              <span class="st">"fin"</span>: e.end,</span>
<span id="cb29-50"><a href="#cb29-50" aria-hidden="true" tabindex="-1"></a>              <span class="st">"label"</span>: e.label_</span>
<span id="cb29-51"><a href="#cb29-51" aria-hidden="true" tabindex="-1"></a>          })</span>
<span id="cb29-52"><a href="#cb29-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-53"><a href="#cb29-53" aria-hidden="true" tabindex="-1"></a>      <span class="co">## Ajoutons l'article avec ses entités à la liste</span></span>
<span id="cb29-54"><a href="#cb29-54" aria-hidden="true" tabindex="-1"></a>      all_articles.append(dic_articles)</span>
<span id="cb29-55"><a href="#cb29-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-56"><a href="#cb29-56" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> all_articles</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<div id="9a3fdc7e" class="cell" data-execution_count="19">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co">## On appelle notre fonction sur la base de données complétée</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>all_articles <span class="op">=</span> find_entities(data_info_complete)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<div id="550b5dec" class="cell" data-execution_count="20">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">len</span>(all_articles))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>2156</code></pre>
</div>
</div>
<div id="c1bed08c" class="cell" data-execution_count="21">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co">## On visualise le premier element retourné par notre fonction</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>all_articles[<span class="dv">0</span>]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="21">
<pre><code>{'title': "Violences contre les maires : dans l'Eure, des élus apprennent à se défendre",
 'entities': [{'entite': 'Claire', 'debut': 28, 'fin': 29, 'label': 'PER'},
  {'entite': 'Claire Carrère-Godebout',
   'debut': 91,
   'fin': 95,
   'label': 'PER'},
  {'entite': 'SE', 'debut': 98, 'fin': 99, 'label': 'LOC'},
  {'entite': 'Graveron-Sémerville', 'debut': 101, 'fin': 104, 'label': 'LOC'},
  {'entite': 'Eure', 'debut': 105, 'fin': 106, 'label': 'LOC'},
  {'entite': "Association des maires ruraux de l'Eure",
   'debut': 137,
   'fin': 144,
   'label': 'ORG'},
  {'entite': 'Christophe Micaux', 'debut': 200, 'fin': 202, 'label': 'PER'}],
 'links': 'https://www.francetvinfo.fr/sante/prevention/eure-quand-les-elus-apprennent-a-se-defendre_3791635.html#xtor=RSS-3-[france]'}</code></pre>
</div>
</div>
</section>
</section>
<section id="analyse-des-entités-nommées" class="level2">
<h2 class="anchored" data-anchor-id="analyse-des-entités-nommées">Analyse des entités nommées</h2>
<section id="q.9.---pour-chaque-type-dentité-déterminons-les-20-plus-fréquentes-dans-la-collection-que-nous-avons-extraite-précédemment.-on-mémorisera-ces-entités-dans-trois-listes-distinctes." class="level3">
<h3 class="anchored" data-anchor-id="q.9.---pour-chaque-type-dentité-déterminons-les-20-plus-fréquentes-dans-la-collection-que-nous-avons-extraite-précédemment.-on-mémorisera-ces-entités-dans-trois-listes-distinctes.">Q.9. - Pour chaque type d’entité, déterminons les 20 plus fréquentes dans la collection que nous avons extraite précédemment. On mémorisera ces entités dans trois listes distinctes.</h3>
<div id="ef9fc236" class="cell" data-execution_count="22">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> collections <span class="im">import</span> Counter</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> surepresent_entities(all_articles):</span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>  <span class="co">"""</span></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a><span class="co">  Notre fonction extrait les entités nommées les plus fréquentes de type</span></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a><span class="co">  PERSONNE (PER), LOCALISATION (LOC) et ORGANISATION (ORG) à partir notre liste d'entités construite</span></span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a><span class="co">  précédemment (qu'elle prend en entrée), et retourne les 20 entités les plus récurrentes pour chaque type (dans 3 listes distinctes).</span></span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a><span class="co">  - Elle parcourt chaque article de notre liste construite precedemment et extrait les entités nommées.</span></span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a><span class="co">  - Elle trie les entités en fonction de leur type ('PER', 'LOC', 'ORG').</span></span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a><span class="co">  - Elle compte la fréquence de chaque entité à l'aide de la classe Counter.</span></span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-13"><a href="#cb35-13" aria-hidden="true" tabindex="-1"></a><span class="co">  Elle Renvoie les 20 entités les plus fréquentes pour chaque type (dans 3 listes distinctes).</span></span>
<span id="cb35-14"><a href="#cb35-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-15"><a href="#cb35-15" aria-hidden="true" tabindex="-1"></a><span class="co">  """</span></span>
<span id="cb35-16"><a href="#cb35-16" aria-hidden="true" tabindex="-1"></a>  per <span class="op">=</span> []</span>
<span id="cb35-17"><a href="#cb35-17" aria-hidden="true" tabindex="-1"></a>  loc <span class="op">=</span> []</span>
<span id="cb35-18"><a href="#cb35-18" aria-hidden="true" tabindex="-1"></a>  org <span class="op">=</span> []</span>
<span id="cb35-19"><a href="#cb35-19" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> article <span class="kw">in</span> all_articles: <span class="co">## On parcoure nos articles</span></span>
<span id="cb35-20"><a href="#cb35-20" aria-hidden="true" tabindex="-1"></a>    entities_article <span class="op">=</span> [value <span class="cf">for</span> value <span class="kw">in</span> article.values()]</span>
<span id="cb35-21"><a href="#cb35-21" aria-hidden="true" tabindex="-1"></a>    entities_articles <span class="op">=</span> entities_article[<span class="dv">1</span>]  <span class="co">## On extrait les entités associés que nous avions récupérés dans la fonction précédente</span></span>
<span id="cb35-22"><a href="#cb35-22" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> entity <span class="kw">in</span> entities_articles: <span class="co">## On identifie le type de chaque entité et on la met dans la liste adéquate</span></span>
<span id="cb35-23"><a href="#cb35-23" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> entity[<span class="st">'label'</span>] <span class="op">==</span> <span class="st">'PER'</span>:</span>
<span id="cb35-24"><a href="#cb35-24" aria-hidden="true" tabindex="-1"></a>        per.append(entity[<span class="st">'entite'</span>])</span>
<span id="cb35-25"><a href="#cb35-25" aria-hidden="true" tabindex="-1"></a>      <span class="cf">elif</span> entity[<span class="st">'label'</span>] <span class="op">==</span> <span class="st">'LOC'</span>:</span>
<span id="cb35-26"><a href="#cb35-26" aria-hidden="true" tabindex="-1"></a>        loc.append(entity[<span class="st">'entite'</span>])</span>
<span id="cb35-27"><a href="#cb35-27" aria-hidden="true" tabindex="-1"></a>      <span class="cf">elif</span> entity[<span class="st">'label'</span>] <span class="op">==</span> <span class="st">'ORG'</span>:</span>
<span id="cb35-28"><a href="#cb35-28" aria-hidden="true" tabindex="-1"></a>        org.append(entity[<span class="st">'entite'</span>])</span>
<span id="cb35-29"><a href="#cb35-29" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Comptons les fréquences des entités pour chaque type</span></span>
<span id="cb35-30"><a href="#cb35-30" aria-hidden="true" tabindex="-1"></a>  per_counter <span class="op">=</span> Counter(per)</span>
<span id="cb35-31"><a href="#cb35-31" aria-hidden="true" tabindex="-1"></a>  loc_counter <span class="op">=</span> Counter(loc)</span>
<span id="cb35-32"><a href="#cb35-32" aria-hidden="true" tabindex="-1"></a>  org_counter <span class="op">=</span> Counter(org)</span>
<span id="cb35-33"><a href="#cb35-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-34"><a href="#cb35-34" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Obtenir les 20 entités les plus récurrentes pour chaque type</span></span>
<span id="cb35-35"><a href="#cb35-35" aria-hidden="true" tabindex="-1"></a>  top_20_per <span class="op">=</span> per_counter.most_common(<span class="dv">20</span>)</span>
<span id="cb35-36"><a href="#cb35-36" aria-hidden="true" tabindex="-1"></a>  top_20_loc <span class="op">=</span> loc_counter.most_common(<span class="dv">20</span>)</span>
<span id="cb35-37"><a href="#cb35-37" aria-hidden="true" tabindex="-1"></a>  top_20_org <span class="op">=</span> org_counter.most_common(<span class="dv">20</span>)</span>
<span id="cb35-38"><a href="#cb35-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-39"><a href="#cb35-39" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> top_20_per, top_20_loc, top_20_org</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<div id="a7f16b13" class="cell" data-execution_count="23">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co">### On appelle notre fonction</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>top_20_per, top_20_loc, top_20_org <span class="op">=</span> surepresent_entities(all_articles)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<div id="11a4b9be" class="cell" data-execution_count="24">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb37"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co">### Top 20 des personnes</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>top_20_per</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="24">
<pre><code>[('Emmanuel Macron', 268),
 ('Bruno Le Maire', 133),
 ('Angela Merkel', 118),
 ('Boris Johnson', 68),
 ('président de la République', 63),
 ('Donald Trump', 63),
 ('Laurent Desbonnets', 50),
 ('Muriel Pénicaud', 48),
 ('Thierry Breton', 44),
 ('Ursula von der Leyen', 42),
 ('Edouard Philippe', 37),
 ('Vladimir Poutine', 36),
 ('Birkenau', 35),
 ('Olivier Véran', 33),
 ('Shein', 31),
 ('Volodymyr Zelensky', 28),
 ('César', 27),
 ('George Floyd', 27),
 ('Valéry Lerouge', 26),
 ('Michel Barnier', 25)]</code></pre>
</div>
</div>
<div id="09894a6c" class="cell" data-execution_count="25">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb39"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co">## Top 20 des localisations</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>top_20_loc</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="25">
<pre><code>[('France', 806),
 ('Allemagne', 570),
 ('la France', 413),
 ('Paris', 388),
 ('Français', 341),
 ('Europe', 328),
 ('Royaume-Uni', 300),
 ('État', 299),
 ('Italie', 254),
 ('Etat', 239),
 ('Grèce', 203),
 ('Chine', 201),
 ("l'Europe", 200),
 ('Turquie', 168),
 ('Bruxelles', 152),
 ('Ukraine', 147),
 ('Londres', 144),
 ('Européens', 142),
 ('Berlin', 136),
 ('Espagne', 129)]</code></pre>
</div>
</div>
<div id="056c3d7e" class="cell" data-execution_count="26">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co">## Top 20 des organisations</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>top_20_org</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="26">
<pre><code>[('JT', 2083),
 ('franceinfo', 366),
 ('Union européenne', 321),
 ('Brexit', 228),
 ('UE', 221),
 ('AFP', 162),
 ('France Télévisions', 133),
 ('Commission européenne', 109),
 ('Renault', 95),
 ('MAXPPP', 78),
 ('CGT', 74),
 ('Magazines', 67),
 ('Alstom', 61),
 ('ministre de la Santé', 60),
 ('Amazon', 54),
 ('Airbus', 48),
 ('LREM', 48),
 ('Medef', 46),
 ('Travail', 42),
 ('Parlement', 40)]</code></pre>
</div>
</div>
<p>De l’illustration ci dessus, on constate que spacy admet tout de même des limites. Il peut en effet, produire des résultats ambigus ou incohérents. On remarque notamment:<br>
- <strong>Incohérence dans la classification des entités</strong> : la COVID-19 est classée comme une personne, et même temps comme une organisation. - <strong>Double identification des entités similaires</strong> : ‘France’ et ‘la France’ sont identifiées comme étant deux localisations differentes.</p>
</section>
<section id="q.10---ecrivons-une-fonction-qui-prend-en-entrée-une-paire-dentités-et-les-types-correspondant-et-retourne-les-co-occurrences-de-ces-deux-entités-au-sein-dun-même-document-article-dans-notre-collection-darticles-all_articles-construite-à-q.8." class="level3">
<h3 class="anchored" data-anchor-id="q.10---ecrivons-une-fonction-qui-prend-en-entrée-une-paire-dentités-et-les-types-correspondant-et-retourne-les-co-occurrences-de-ces-deux-entités-au-sein-dun-même-document-article-dans-notre-collection-darticles-all_articles-construite-à-q.8.">Q.10 - Ecrivons une fonction qui prend en entrée une paire d’entités et les types correspondant et retourne les co-occurrences de ces deux entités au sein d’un même document (article) dans notre collection d’articles <strong>“all_articles”</strong> construite à Q.8.</h3>
<div id="42c550d1" class="cell" data-execution_count="27">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb43"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> entities_co_occ(entite_1, entite_2,type_ent_1, type_ent_2, article):</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>  <span class="co">"""</span></span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a><span class="co">    Cette fonction permet de déterminer si une paire d'entités (entite_1 et entite_2) co-occurrent dans un article donné.</span></span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a><span class="co">    - L'argument 'article' est un dictionnaire où chaque élément représente un article et contient des informations sur</span></span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a><span class="co">      les entités identifiées dans cet article.</span></span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a><span class="co">    - Les entités sont recherchées selon leurs types (type_ent_1 et type_ent_2) et leurs noms respectifs (entite_1 et entite_2).</span></span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-10"><a href="#cb43-10" aria-hidden="true" tabindex="-1"></a><span class="co">    La fonction vérifie si les deux entités spécifiées apparaissent ensemble dans l'article.</span></span>
<span id="cb43-11"><a href="#cb43-11" aria-hidden="true" tabindex="-1"></a><span class="co">    Si c'est le cas, le compteur de co-occurrence est incrémenté de 1.</span></span>
<span id="cb43-12"><a href="#cb43-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-13"><a href="#cb43-13" aria-hidden="true" tabindex="-1"></a><span class="co">    Retour :</span></span>
<span id="cb43-14"><a href="#cb43-14" aria-hidden="true" tabindex="-1"></a><span class="co">    - occ_ent_1_ent_2 : Le nombre de fois où les deux entités co-occurrent dans cet article.</span></span>
<span id="cb43-15"><a href="#cb43-15" aria-hidden="true" tabindex="-1"></a><span class="co">      La fonction retourne 1 si les entités co-occurrent, sinon elle retourne 0.</span></span>
<span id="cb43-16"><a href="#cb43-16" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb43-17"><a href="#cb43-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-18"><a href="#cb43-18" aria-hidden="true" tabindex="-1"></a>  entities_article <span class="op">=</span> [value <span class="cf">for</span> value <span class="kw">in</span> article.values()][<span class="dv">1</span>] <span class="co">##  On récupère la liste des entités dans l'article</span></span>
<span id="cb43-19"><a href="#cb43-19" aria-hidden="true" tabindex="-1"></a>  occ_ent_1_ent_2 <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb43-20"><a href="#cb43-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-21"><a href="#cb43-21" aria-hidden="true" tabindex="-1"></a>  occ_ent_1 <span class="op">=</span> <span class="bu">any</span>(entity[<span class="st">'label'</span>] <span class="op">==</span> type_ent_1 <span class="kw">and</span> entity[<span class="st">'entite'</span>] <span class="op">==</span> entite_1  <span class="cf">for</span> entity <span class="kw">in</span> entities_article)</span>
<span id="cb43-22"><a href="#cb43-22" aria-hidden="true" tabindex="-1"></a>  occ_ent_2 <span class="op">=</span> <span class="bu">any</span>(entity[<span class="st">'label'</span>] <span class="op">==</span> type_ent_2 <span class="kw">and</span> entity[<span class="st">'entite'</span>] <span class="op">==</span> entite_2  <span class="cf">for</span> entity <span class="kw">in</span> entities_article)</span>
<span id="cb43-23"><a href="#cb43-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-24"><a href="#cb43-24" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> occ_ent_1 <span class="kw">and</span> occ_ent_2 :</span>
<span id="cb43-25"><a href="#cb43-25" aria-hidden="true" tabindex="-1"></a>      occ_ent_1_ent_2 <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb43-26"><a href="#cb43-26" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span>  occ_ent_1_ent_2</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<div id="39b93c04" class="cell" data-execution_count="28">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb44"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co">## Pour l'illustration, on choisit le premier article de notre base mise à jour</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>all_articles[<span class="dv">0</span>]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="28">
<pre><code>{'title': "Violences contre les maires : dans l'Eure, des élus apprennent à se défendre",
 'entities': [{'entite': 'Claire', 'debut': 28, 'fin': 29, 'label': 'PER'},
  {'entite': 'Claire Carrère-Godebout',
   'debut': 91,
   'fin': 95,
   'label': 'PER'},
  {'entite': 'SE', 'debut': 98, 'fin': 99, 'label': 'LOC'},
  {'entite': 'Graveron-Sémerville', 'debut': 101, 'fin': 104, 'label': 'LOC'},
  {'entite': 'Eure', 'debut': 105, 'fin': 106, 'label': 'LOC'},
  {'entite': "Association des maires ruraux de l'Eure",
   'debut': 137,
   'fin': 144,
   'label': 'ORG'},
  {'entite': 'Christophe Micaux', 'debut': 200, 'fin': 202, 'label': 'PER'}],
 'links': 'https://www.francetvinfo.fr/sante/prevention/eure-quand-les-elus-apprennent-a-se-defendre_3791635.html#xtor=RSS-3-[france]'}</code></pre>
</div>
</div>
<div id="5c5a855f" class="cell" data-execution_count="29">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb46"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="co">## Illustration</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>occ_1 <span class="op">=</span> entities_co_occ(<span class="st">'Claire'</span>, <span class="st">'Claire Carrère-Godebout'</span>,<span class="st">'PER'</span>,<span class="st">'PER'</span>, all_articles[<span class="dv">0</span>])</span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>occ_1</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="29">
<pre><code>1</code></pre>
</div>
</div>
</section>
<section id="q.11.---en-partant-des-listes-de-la-question-8-on-utilisera-la-fonction-de-la-question-précédente-pour-chercher-les-paires-dentités-de-type-différents-qui-apparaissent-le-plus-souvent-ensemble-dans-notre-collection-darticles-mise-à-jour." class="level3">
<h3 class="anchored" data-anchor-id="q.11.---en-partant-des-listes-de-la-question-8-on-utilisera-la-fonction-de-la-question-précédente-pour-chercher-les-paires-dentités-de-type-différents-qui-apparaissent-le-plus-souvent-ensemble-dans-notre-collection-darticles-mise-à-jour.">Q.11. - En partant des listes de la question 8, on utilisera la fonction de la question précédente pour chercher les paires d’entités de type différents qui apparaissent le plus souvent ensemble dans notre collection d’articles mise à jour.</h3>
<p>Pour rendre la tâche moins complexe et chronophage, nous restreindrons notre ensemble de paires d’entités aux listes top_20_per et top_20_loc construites à Q.9 et representant respectivement les 20 personnes et 20 lieux les plus mentionnées dans notre collection d’articles.</p>
<div id="203b45d9" class="cell" data-execution_count="30">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb48"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> find_pairs_entities(entity_1, entity_2,type_ent_1, type_ent_2,all_articles):</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a><span class="co">    Notre fonction permet de determiner le nombre de co-occurences d'une paire d'entités dans notre collection d'articles mise à jour.</span></span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a><span class="co">    Elle  prend en entrée lesdites entités, leurs types et notre liste d'articles</span></span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a><span class="co">    (celle où pour chaque article on a stocké les entités associés) construite à la question 8.</span></span>
<span id="cb48-9"><a href="#cb48-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-10"><a href="#cb48-10" aria-hidden="true" tabindex="-1"></a><span class="co">    Elle parcourt chacun des articles de la liste fournie et utilise la fonction de la question précédente pour identifier les co-occurrences de</span></span>
<span id="cb48-11"><a href="#cb48-11" aria-hidden="true" tabindex="-1"></a><span class="co">    cette paire dans l'article et met à jour chaque fois un compteur que nous avons préalablement initialisé.</span></span>
<span id="cb48-12"><a href="#cb48-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-13"><a href="#cb48-13" aria-hidden="true" tabindex="-1"></a><span class="co">    Elle retourne  finalement le nombre de co-occurences de notre paire d'entités dans la collection d'articles.</span></span>
<span id="cb48-14"><a href="#cb48-14" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb48-15"><a href="#cb48-15" aria-hidden="true" tabindex="-1"></a>    occ <span class="op">=</span><span class="dv">0</span></span>
<span id="cb48-16"><a href="#cb48-16" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> article <span class="kw">in</span> all_articles: <span class="co">## On parcourt nos articles</span></span>
<span id="cb48-17"><a href="#cb48-17" aria-hidden="true" tabindex="-1"></a>      occ_1 <span class="op">=</span> entities_co_occ(entity_1, entity_2,type_ent_1, type_ent_2, article) <span class="co">## On appelle notre fonction de la question précedente</span></span>
<span id="cb48-18"><a href="#cb48-18" aria-hidden="true" tabindex="-1"></a>      occ <span class="op">+=</span> occ_1</span>
<span id="cb48-19"><a href="#cb48-19" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> occ</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<div id="43830a8b" class="cell" data-execution_count="31">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb49"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="co">## Illustration: on veut voir le nombre de co-occurrence des mots : 'Emmanuel Macron' et 'Mayotte' dans notre collection</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>test <span class="op">=</span> find_pairs_entities(<span class="st">'Emmanuel Macron'</span>, <span class="st">'Mayotte'</span>,<span class="st">'PER'</span>,<span class="st">'LOC'</span>,all_articles)</span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>test</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="31">
<pre><code>1</code></pre>
</div>
</div>
<div id="ed4239b4" class="cell" data-execution_count="32">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb51"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> top_20_max_co_occurrences(top_20_per, top_20_loc, top_20_org, all_articles):</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a><span class="co">      Cette fonction permet de générer les co-occurrences pour chaque paire d'entités parmi les entités fournies</span></span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a><span class="co">      (personnes, lieux, organisations) dans notre collection d'articles.</span></span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a><span class="co">      Elle prend en entrée :</span></span>
<span id="cb51-8"><a href="#cb51-8" aria-hidden="true" tabindex="-1"></a><span class="co">      - top_20_per : liste d'entités de type PER</span></span>
<span id="cb51-9"><a href="#cb51-9" aria-hidden="true" tabindex="-1"></a><span class="co">      - top_20_loc : liste d'entités de type LOC</span></span>
<span id="cb51-10"><a href="#cb51-10" aria-hidden="true" tabindex="-1"></a><span class="co">      - top_20_org : liste d'entités de type ORG</span></span>
<span id="cb51-11"><a href="#cb51-11" aria-hidden="true" tabindex="-1"></a><span class="co">      - all_articles : la liste d'articles où chaque article contient des entités identifiées</span></span>
<span id="cb51-12"><a href="#cb51-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-13"><a href="#cb51-13" aria-hidden="true" tabindex="-1"></a><span class="co">      Le processus implique de calculer les co-occurrences pour les différentes combinaisons de paires d'entités :</span></span>
<span id="cb51-14"><a href="#cb51-14" aria-hidden="true" tabindex="-1"></a><span class="co">      - Personnes et Lieux</span></span>
<span id="cb51-15"><a href="#cb51-15" aria-hidden="true" tabindex="-1"></a><span class="co">      - Personnes et Organisations</span></span>
<span id="cb51-16"><a href="#cb51-16" aria-hidden="true" tabindex="-1"></a><span class="co">      - Lieux et Organisations</span></span>
<span id="cb51-17"><a href="#cb51-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-18"><a href="#cb51-18" aria-hidden="true" tabindex="-1"></a><span class="co">      Pour chaque combinaison d'entités, la fonction `process_pairs` est utilisée pour compter le nombre de co-occurrences de chaque paire</span></span>
<span id="cb51-19"><a href="#cb51-19" aria-hidden="true" tabindex="-1"></a><span class="co">      dans l'ensemble des articles.</span></span>
<span id="cb51-20"><a href="#cb51-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-21"><a href="#cb51-21" aria-hidden="true" tabindex="-1"></a><span class="co">      Elle retourne :</span></span>
<span id="cb51-22"><a href="#cb51-22" aria-hidden="true" tabindex="-1"></a><span class="co">      - co_occurence : une liste des co-occurrences pour chaque paire d'entités</span></span>
<span id="cb51-23"><a href="#cb51-23" aria-hidden="true" tabindex="-1"></a><span class="co">      - co_words : une liste des paires d'entités avec leurs types respectifs</span></span>
<span id="cb51-24"><a href="#cb51-24" aria-hidden="true" tabindex="-1"></a><span class="co">      """</span></span>
<span id="cb51-25"><a href="#cb51-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-26"><a href="#cb51-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-27"><a href="#cb51-27" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> process_pairs(entities_1, entities_2, type_1, type_2):</span>
<span id="cb51-28"><a href="#cb51-28" aria-hidden="true" tabindex="-1"></a>        co_words <span class="op">=</span> []</span>
<span id="cb51-29"><a href="#cb51-29" aria-hidden="true" tabindex="-1"></a>        co_occurence <span class="op">=</span> []</span>
<span id="cb51-30"><a href="#cb51-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-31"><a href="#cb51-31" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> elt_1 <span class="kw">in</span> entities_1:</span>
<span id="cb51-32"><a href="#cb51-32" aria-hidden="true" tabindex="-1"></a>            <span class="cf">for</span> elt_2 <span class="kw">in</span> entities_2:</span>
<span id="cb51-33"><a href="#cb51-33" aria-hidden="true" tabindex="-1"></a>                occ <span class="op">=</span> find_pairs_entities(elt_1[<span class="dv">0</span>], elt_2[<span class="dv">0</span>], type_1, type_2, all_articles)</span>
<span id="cb51-34"><a href="#cb51-34" aria-hidden="true" tabindex="-1"></a>                <span class="co">## Ajoutons la paire d'entités avec leurs types</span></span>
<span id="cb51-35"><a href="#cb51-35" aria-hidden="true" tabindex="-1"></a>                co_occurence.append(occ)</span>
<span id="cb51-36"><a href="#cb51-36" aria-hidden="true" tabindex="-1"></a>                co_words.append(((elt_1[<span class="dv">0</span>], type_1), (elt_2[<span class="dv">0</span>], type_2)))</span>
<span id="cb51-37"><a href="#cb51-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-38"><a href="#cb51-38" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> co_words, co_occurence</span>
<span id="cb51-39"><a href="#cb51-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-40"><a href="#cb51-40" aria-hidden="true" tabindex="-1"></a>    co_words_per_loc, co_occurence_per_loc <span class="op">=</span> process_pairs(top_20_per, top_20_loc, <span class="st">'PER'</span>, <span class="st">'LOC'</span>)</span>
<span id="cb51-41"><a href="#cb51-41" aria-hidden="true" tabindex="-1"></a>    co_words_per_org, co_occurence_per_org <span class="op">=</span> process_pairs(top_20_per, top_20_org, <span class="st">'PER'</span>, <span class="st">'ORG'</span>)</span>
<span id="cb51-42"><a href="#cb51-42" aria-hidden="true" tabindex="-1"></a>    co_words_loc_org, co_occurence_loc_org <span class="op">=</span> process_pairs(top_20_loc, top_20_org, <span class="st">'LOC'</span>, <span class="st">'ORG'</span>)</span>
<span id="cb51-43"><a href="#cb51-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-44"><a href="#cb51-44" aria-hidden="true" tabindex="-1"></a>    <span class="co">## Combinons tous les résultats</span></span>
<span id="cb51-45"><a href="#cb51-45" aria-hidden="true" tabindex="-1"></a>    co_words <span class="op">=</span> co_words_per_loc <span class="op">+</span> co_words_per_org <span class="op">+</span> co_words_loc_org</span>
<span id="cb51-46"><a href="#cb51-46" aria-hidden="true" tabindex="-1"></a>    co_occurence <span class="op">=</span> co_occurence_per_loc <span class="op">+</span> co_occurence_per_org <span class="op">+</span> co_occurence_loc_org</span>
<span id="cb51-47"><a href="#cb51-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-48"><a href="#cb51-48" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> co_occurence, co_words</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<div id="3bfd03df" class="cell" data-execution_count="33">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb52"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="co">## Illustration</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>co_occurence, co_words <span class="op">=</span> top_20_max_co_occurrences(top_20_per, top_20_loc, top_20_org, all_articles)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<div id="dfb05de5" class="cell" data-execution_count="34">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb53"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Créons un DataFrame pour afficher les paires d'entités et leurs cooccurrences,</span></span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a><span class="co"># triées par nombre de cooccurrences décroissantes. Affichons 20 premières paires.</span></span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame({<span class="st">'Pair'</span>: co_words, <span class="st">'Cooccurrence'</span>: co_occurence})</span>
<span id="cb53-8"><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a>df_sorted <span class="op">=</span> df.sort_values(by<span class="op">=</span><span class="st">'Cooccurrence'</span>, ascending<span class="op">=</span><span class="va">False</span>).head(<span class="dv">20</span>)</span>
<span id="cb53-9"><a href="#cb53-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df_sorted.to_string(index<span class="op">=</span><span class="va">False</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>                                         Pair  Cooccurrence
                   ((France, LOC), (JT, ORG))           200
                ((Allemagne, LOC), (JT, ORG))           159
                    ((Paris, LOC), (JT, ORG))           109
                ((la France, LOC), (JT, ORG))           107
                 ((Français, LOC), (JT, ORG))            90
           ((France, LOC), (franceinfo, ORG))            80
                     ((État, LOC), (JT, ORG))            80
                   ((Italie, LOC), (JT, ORG))            76
          ((Royaume-Uni, LOC), (Brexit, ORG))            75
((Royaume-Uni, LOC), (Union européenne, ORG))            68
                    ((Chine, LOC), (JT, ORG))            65
                   ((Europe, LOC), (JT, ORG))            64
              ((Royaume-Uni, LOC), (JT, ORG))            62
     ((Angela Merkel, PER), (Allemagne, LOC))            61
                   ((Berlin, LOC), (JT, ORG))            57
     ((Europe, LOC), (Union européenne, ORG))            57
   ((l'Europe, LOC), (Union européenne, ORG))            50
        ((la France, LOC), (franceinfo, ORG))            49
                  ((France, LOC), (AFP, ORG))            49
         ((Français, LOC), (franceinfo, ORG))            48</code></pre>
</div>
</div>
</section>
<section id="q.12.---reprenons-lanalyse-précédente-en-nous-interessant-aux-co-occurrences-au-sein-dune-même-phrase-pour-plus-de-précision." class="level3">
<h3 class="anchored" data-anchor-id="q.12.---reprenons-lanalyse-précédente-en-nous-interessant-aux-co-occurrences-au-sein-dune-même-phrase-pour-plus-de-précision.">Q.12. - Reprenons l’analyse précédente en nous interessant aux co-occurrences au sein d’une même phrase pour plus de précision.</h3>
<section id="q.12.1---ecrivons-une-fonction-qui-prend-en-entrée-une-paire-dentités-et-les-types-correspondant-et-verifie-pour-chaque-phrase-dun-article-donné-sil-y-a-co-occurence-de-cette-paire-au-sein-de-la-phrase.-et-qui-retourne-en-fin-de-compte-le-nombre-de-co-occurences-trouvés-au-sein-des-phrases-du-document." class="level4">
<h4 class="anchored" data-anchor-id="q.12.1---ecrivons-une-fonction-qui-prend-en-entrée-une-paire-dentités-et-les-types-correspondant-et-verifie-pour-chaque-phrase-dun-article-donné-sil-y-a-co-occurence-de-cette-paire-au-sein-de-la-phrase.-et-qui-retourne-en-fin-de-compte-le-nombre-de-co-occurences-trouvés-au-sein-des-phrases-du-document.">Q.12.1 - Ecrivons une fonction qui prend en entrée une paire d’entités et les types correspondant et verifie pour chaque phrase d’un article donné s’il y a co-occurence de cette paire au sein de la phrase. Et, qui retourne en fin de compte le nombre de co-occurences trouvés au sein des phrases du document.</h4>
<div id="3a997c4f" class="cell" data-execution_count="35">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb55"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="co">""" Nous avons constaté pendant l'exécution de nos codes que, lorsqu'on processait nos articles à l'intérieur des fonctions,</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a><span class="co">ceci etait très chronophage et fastidieux, raison pour laquelle nous avons décidé de le faire à l'extérieur des  fonctions afin</span></span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a><span class="co">d'avoir à le faire une seule fois et d'executer nos fonctions par la suite autant de fois qu'on veut les tester sans grand gêne.</span></span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a><span class="co">"""</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="35">
<pre><code>" Nous avons constaté pendant l'exécution de nos codes que, lorsqu'on processait nos articles à l'intérieur des fonctions,\nceci etait très chronophage et fastidieux, raison pour laquelle nous avons décidé de le faire à l'extérieur des  fonctions afin\nd'avoir à le faire une seule fois et d'executer nos fonctions par la suite autant de fois qu'on veut les tester sans grand gêne.\n"</code></pre>
</div>
</div>
<div id="7068670a" class="cell" data-execution_count="36">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb57"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="co">## On processe le contenu des articles de notre collection</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>content_articles <span class="op">=</span> [<span class="bu">list</span>(data_info_complete.values())[i][<span class="st">'content'</span>] <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(data_info_complete)) ]</span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>content_articles_processed <span class="op">=</span> []</span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> doc <span class="kw">in</span> process.pipe(content_articles):</span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a>  content_articles_processed.append(doc)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<div id="38fe4ff7" class="cell" data-execution_count="37">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb58"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="co">## On stock le contenu procéssé dans un data frame</span></span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb58-3"><a href="#cb58-3" aria-hidden="true" tabindex="-1"></a>content_articles_processed_df <span class="op">=</span> pd.DataFrame()</span>
<span id="cb58-4"><a href="#cb58-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-5"><a href="#cb58-5" aria-hidden="true" tabindex="-1"></a>content_articles_processed_df[<span class="st">'title_article'</span>] <span class="op">=</span> [<span class="bu">list</span>(data_info_complete.values())[i][<span class="st">'title'</span>] <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(data_info_complete))]</span>
<span id="cb58-6"><a href="#cb58-6" aria-hidden="true" tabindex="-1"></a>content_articles_processed_df[<span class="st">'content_article_processed'</span>] <span class="op">=</span> content_articles_processed</span>
<span id="cb58-7"><a href="#cb58-7" aria-hidden="true" tabindex="-1"></a>content_articles_processed_df[<span class="st">'link_article'</span>] <span class="op">=</span> [<span class="bu">list</span>(data_info_complete.keys())[i]<span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(data_info_complete))]</span>
<span id="cb58-8"><a href="#cb58-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(content_articles_processed_df.shape)</span>
<span id="cb58-9"><a href="#cb58-9" aria-hidden="true" tabindex="-1"></a>content_articles_processed_df.head()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>(2156, 3)</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="37">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">title_article</th>
<th data-quarto-table-cell-role="th">content_article_processed</th>
<th data-quarto-table-cell-role="th">link_article</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<th data-quarto-table-cell-role="th">0</th>
<td>Violences contre les maires : dans l'Eure, des...</td>
<td>(Beaucoup, de, maires, et, de, secrétaires, de...</td>
<td>https://www.francetvinfo.fr/sante/prevention/e...</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">1</th>
<td>VIDEO. Sur le dos d'un aigle pêcheur au-dessus...</td>
<td>(#, AlertePollution, Rivières, ou, sols, conta...</td>
<td>https://www.francetvinfo.fr/france/video-sur-l...</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">2</th>
<td>VIDEO. Dans le massif du Mont-Blanc, la hausse...</td>
<td>(#, AlertePollution, Rivières, ou, sols, conta...</td>
<td>https://www.francetvinfo.fr/societe/video-mass...</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">3</th>
<td>"13h15 le dimanche". Le Mont-Blanc, un mythe é...</td>
<td>(Point, culminant, de, la, chaîne, des, Alpes,...</td>
<td>https://www.francetvinfo.fr/replay-magazine/fr...</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">4</th>
<td>Loi de bioéthique : les opposants à la PMA man...</td>
<td>(Des, associations, catholiques, ,, des, jeune...</td>
<td>https://www.francetvinfo.fr/societe/loi-de-bio...</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="09c2b758" class="cell" data-execution_count="38">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb60"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>list_content_article <span class="op">=</span> content_articles_processed_df[<span class="st">'content_article_processed'</span>].tolist()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<div id="e23e3e1e" class="cell" data-execution_count="39">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb61"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> entities_occ_sent_article(entite_1, entite_2, type_ent_1, type_ent_2, content_article):</span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>  <span class="co">"""</span></span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a><span class="co">    Notre fonction compte le nombre  de co-occurrence de la paire (entité_1 et entité_2) dans les phrases où il existe au moins un verbe du contenu</span></span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a><span class="co">    du contenu d'un article. (nous avons fait le choix d'ajouter cette condition afin de rendre l'exécution des codes des questions à venir moins</span></span>
<span id="cb61-6"><a href="#cb61-6" aria-hidden="true" tabindex="-1"></a><span class="co">    chronophage).</span></span>
<span id="cb61-7"><a href="#cb61-7" aria-hidden="true" tabindex="-1"></a><span class="co">    Elle retourne le nombre de ces co-occurrences.</span></span>
<span id="cb61-8"><a href="#cb61-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-9"><a href="#cb61-9" aria-hidden="true" tabindex="-1"></a><span class="co">    Paramètres :</span></span>
<span id="cb61-10"><a href="#cb61-10" aria-hidden="true" tabindex="-1"></a><span class="co">    - entite_1 : la première entité à rechercher.</span></span>
<span id="cb61-11"><a href="#cb61-11" aria-hidden="true" tabindex="-1"></a><span class="co">    - entite_2 : la deuxième entité à rechercher.</span></span>
<span id="cb61-12"><a href="#cb61-12" aria-hidden="true" tabindex="-1"></a><span class="co">    - type_ent_1 : Le type de la première entité .</span></span>
<span id="cb61-13"><a href="#cb61-13" aria-hidden="true" tabindex="-1"></a><span class="co">    - type_ent_2 : Le type de la deuxième entité .</span></span>
<span id="cb61-14"><a href="#cb61-14" aria-hidden="true" tabindex="-1"></a><span class="co">    - content_article : le contenu procéssé d'un article de notre collection.</span></span>
<span id="cb61-15"><a href="#cb61-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-16"><a href="#cb61-16" aria-hidden="true" tabindex="-1"></a><span class="co">    Retour :</span></span>
<span id="cb61-17"><a href="#cb61-17" aria-hidden="true" tabindex="-1"></a><span class="co">    - Un entier représentant le nombre de phrases où les deux entités coexistent avec au moins un verbe.</span></span>
<span id="cb61-18"><a href="#cb61-18" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb61-19"><a href="#cb61-19" aria-hidden="true" tabindex="-1"></a>  number_co_occ <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb61-20"><a href="#cb61-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-21"><a href="#cb61-21" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Nous parcourons chaque phrase dans l'article</span></span>
<span id="cb61-22"><a href="#cb61-22" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> s <span class="kw">in</span> content_article.sents:</span>
<span id="cb61-23"><a href="#cb61-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-24"><a href="#cb61-24" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Nous vérifions s'il y a un verbe dans la phrase</span></span>
<span id="cb61-25"><a href="#cb61-25" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="bu">any</span>(token.pos_ <span class="op">==</span> <span class="st">"VERB"</span> <span class="cf">for</span> token <span class="kw">in</span> s):</span>
<span id="cb61-26"><a href="#cb61-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-27"><a href="#cb61-27" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Nous vérifions la présence des deux entités dans la phrase</span></span>
<span id="cb61-28"><a href="#cb61-28" aria-hidden="true" tabindex="-1"></a>      occ_ent_1 <span class="op">=</span> <span class="bu">any</span>(entity.label_ <span class="op">==</span> type_ent_1 <span class="kw">and</span> entity.text <span class="op">==</span> entite_1  <span class="cf">for</span> entity <span class="kw">in</span> s.ents)</span>
<span id="cb61-29"><a href="#cb61-29" aria-hidden="true" tabindex="-1"></a>      occ_ent_2 <span class="op">=</span> <span class="bu">any</span>(entity.label_ <span class="op">==</span> type_ent_2 <span class="kw">and</span> entity.text <span class="op">==</span> entite_2  <span class="cf">for</span> entity <span class="kw">in</span> s.ents)</span>
<span id="cb61-30"><a href="#cb61-30" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> occ_ent_1 <span class="kw">and</span> occ_ent_2:</span>
<span id="cb61-31"><a href="#cb61-31" aria-hidden="true" tabindex="-1"></a>        number_co_occ <span class="op">+=</span> <span class="dv">1</span></span>
<span id="cb61-32"><a href="#cb61-32" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> number_co_occ</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<div id="94e5bcb4" class="cell" data-execution_count="40">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb62"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="co">## Pour notre illustration, nous avons choisi le contenu du deuxieme article de notre base</span></span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>content_article <span class="op">=</span> list_content_article[<span class="dv">1</span>]</span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a>content_article</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="40">
<pre><code>#AlertePollution Rivières ou sols contaminés, déchets industriels abandonnés… Vous vivez à proximité d’un site pollué ?

Cliquez ici pour nous alerter !

Embarquement immédiat à bord du vol qu’entreprend Victor, un Pygargue à queue blanche (Haliaeetus albicilla), au-dessus du massif du Mont-Blanc. Le plus grand aigle d’Europe, qui peut mesurer jusqu’à 2,50 mètres d’envergure et peser sept kilos, est une espèce en voie de disparition que des passionnés essaient de remettre dans la nature.

Ce jour-là, pour le magazine "13h15 le dimanche" (replay), le rapace se lance d’une grande hauteur, avec une caméra embarquée, pour rejoindre son maître qui l’attend tout en bas dans la vallée. Un paysage grandiose, mais en grand danger à cause du réchauffement climatique qui fait fondre les glaces, défile sous l’animal au vol majestueux.

"Les Alpes sont en train de brûler sous nos yeux et on regarde ailleurs"

Victor n’a pas raté sa piste d’atterrissage, soit le bras du fauconnier Jacques-Olivier Travers : "C’est un aigle pêcheur qui vit dans l’air et dans l’eau car sa ressource alimentaire est principalement le poisson. Les glaciers sont la base de toute l’eau dans nos montagnes. Ce qui se passe en ce moment dans nos glaciers, c’est catastrophique. Et c’est pour ça que je suis là aujourd’hui. Pour attirer l’attention sur ce qui se passe", affirme-t-il.

"On parle tout le temps de l’Antarctique, de l’Amazonie, mais j’ai l’impression qu’on ne voit pas que le cœur des Alpes est en train de fondre littéralement. Elles sont en train de brûler sous nos yeux et on regarde ailleurs. Derrière moi, on voit le glacier des Bossons. Quand j’étais enfant, je faisais dix minutes de marche pour le toucher. Aujourd’hui, il faut que je marche une heure et demie parce qu’il est remonté. Et ça, c’est partout dans les Alpes. J’espère que ces images vont toucher le cœur des gens pour qu’ils se disent qu’on va faire un effort pour sauver ce qui est sauvable."</code></pre>
</div>
</div>
<div id="1fdab415" class="cell" data-execution_count="41">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb64"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="co">## Illustration</span></span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>co_occ <span class="op">=</span> entities_occ_sent_article(<span class="st">'Victor'</span>, <span class="st">'Jacques-Olivier Travers'</span>,<span class="st">'PER'</span>,<span class="st">'PER'</span>, content_article)</span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a>co_occ</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="41">
<pre><code>1</code></pre>
</div>
</div>
</section>
<section id="q.12.2---ecrivons-à-présent-une-fonction-qui-prend-en-entrée-une-paire-dentités-et-les-types-correspondant-et-compte-le-nombre-de-co-occurence-de-ces-paires-au-sein-de-toutes-les-phrases-de-notre-collection-darticles-mise-à-jour." class="level4">
<h4 class="anchored" data-anchor-id="q.12.2---ecrivons-à-présent-une-fonction-qui-prend-en-entrée-une-paire-dentités-et-les-types-correspondant-et-compte-le-nombre-de-co-occurence-de-ces-paires-au-sein-de-toutes-les-phrases-de-notre-collection-darticles-mise-à-jour.">Q.12.2 - Ecrivons à présent une fonction qui prend en entrée une paire d’entités et les types correspondant et compte le nombre de co-occurence de ces paires au sein de toutes les phrases de notre collection d’articles mise à jour.</h4>
<div id="79dcb544" class="cell" data-execution_count="42">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb66"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> entities_occ_sent_all_articles(entity_1, entity_2,type_ent_1, type_ent_2,list_content_article):</span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a><span class="co">      Notre fonction permet de compter le nombre total de co-occurrences des entités spécifiées</span></span>
<span id="cb66-5"><a href="#cb66-5" aria-hidden="true" tabindex="-1"></a><span class="co">      (entité_1 et entité_2) dans les phrases de notre collection d'articles. Elle fait appel à la fonction 'entities_occ_sent_article'</span></span>
<span id="cb66-6"><a href="#cb66-6" aria-hidden="true" tabindex="-1"></a><span class="co">      pour analyser chaque article et déterminer combien de fois les deux entités apparaissent dans la même phrase</span></span>
<span id="cb66-7"><a href="#cb66-7" aria-hidden="true" tabindex="-1"></a><span class="co">      avec au moins un verbe.</span></span>
<span id="cb66-8"><a href="#cb66-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-9"><a href="#cb66-9" aria-hidden="true" tabindex="-1"></a><span class="co">      Paramètres :</span></span>
<span id="cb66-10"><a href="#cb66-10" aria-hidden="true" tabindex="-1"></a><span class="co">      - entity_1 :  la première entité à rechercher.</span></span>
<span id="cb66-11"><a href="#cb66-11" aria-hidden="true" tabindex="-1"></a><span class="co">      - entity_2 :  la deuxième entité à rechercher.</span></span>
<span id="cb66-12"><a href="#cb66-12" aria-hidden="true" tabindex="-1"></a><span class="co">      - type_ent_1 : Le type de la première entité</span></span>
<span id="cb66-13"><a href="#cb66-13" aria-hidden="true" tabindex="-1"></a><span class="co">      - type_ent_2 : Le type de la deuxième entité</span></span>
<span id="cb66-14"><a href="#cb66-14" aria-hidden="true" tabindex="-1"></a><span class="co">      - list_content_article : le contenu procéssé de toutes les articles de notre collection.</span></span>
<span id="cb66-15"><a href="#cb66-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-16"><a href="#cb66-16" aria-hidden="true" tabindex="-1"></a><span class="co">      Retour :</span></span>
<span id="cb66-17"><a href="#cb66-17" aria-hidden="true" tabindex="-1"></a><span class="co">      - Un entier représentant le nombre total de co-occurrences dans les phrases de l'ensemble des articles.</span></span>
<span id="cb66-18"><a href="#cb66-18" aria-hidden="true" tabindex="-1"></a><span class="co">      """</span></span>
<span id="cb66-19"><a href="#cb66-19" aria-hidden="true" tabindex="-1"></a>    co_occ_ent1_ent2 <span class="op">=</span><span class="dv">0</span></span>
<span id="cb66-20"><a href="#cb66-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-21"><a href="#cb66-21" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> content_article <span class="kw">in</span> list_content_article: <span class="co">## On parcourt nos articles</span></span>
<span id="cb66-22"><a href="#cb66-22" aria-hidden="true" tabindex="-1"></a>      co_occ_ent1_ent2_article <span class="op">=</span> entities_occ_sent_article(entity_1, entity_2,type_ent_1, type_ent_2, content_article) <span class="co">## On appelle notre fonction de la question précedente</span></span>
<span id="cb66-23"><a href="#cb66-23" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> co_occ_ent1_ent2_article <span class="op">&gt;</span> <span class="dv">0</span>:</span>
<span id="cb66-24"><a href="#cb66-24" aria-hidden="true" tabindex="-1"></a>        co_occ_ent1_ent2 <span class="op">+=</span> co_occ_ent1_ent2_article</span>
<span id="cb66-25"><a href="#cb66-25" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> co_occ_ent1_ent2</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<div id="93c37bd5" class="cell" data-execution_count="43">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb67"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="co">## Illustration</span></span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>co_occ <span class="op">=</span> entities_occ_sent_all_articles(<span class="st">'Victor'</span>, <span class="st">'Jacques-Olivier Travers'</span>,<span class="st">'PER'</span>,<span class="st">'PER'</span>, list_content_article)</span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a>co_occ</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="43">
<pre><code>1</code></pre>
</div>
</div>
<div id="ee2ac519" class="cell" data-execution_count="44">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb69"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> top_20_max_co_occurrences(top_20_per, top_20_loc, top_20_org, list_content_article):</span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb69-4"><a href="#cb69-4" aria-hidden="true" tabindex="-1"></a><span class="co">          Cette fonction calcule les co-occurrences entre toutes les paires d'entités</span></span>
<span id="cb69-5"><a href="#cb69-5" aria-hidden="true" tabindex="-1"></a><span class="co">          des deux listes passées en entrée (entities_1 et entities_2). Elle renvoie les paires d'entités</span></span>
<span id="cb69-6"><a href="#cb69-6" aria-hidden="true" tabindex="-1"></a><span class="co">          et leurs co-occurrences respectives.</span></span>
<span id="cb69-7"><a href="#cb69-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-8"><a href="#cb69-8" aria-hidden="true" tabindex="-1"></a><span class="co">          Paramètres :</span></span>
<span id="cb69-9"><a href="#cb69-9" aria-hidden="true" tabindex="-1"></a><span class="co">           - top_20_per :  liste d'entités de type PER</span></span>
<span id="cb69-10"><a href="#cb69-10" aria-hidden="true" tabindex="-1"></a><span class="co">           - top_20_loc :  liste d'entités de type LOC</span></span>
<span id="cb69-11"><a href="#cb69-11" aria-hidden="true" tabindex="-1"></a><span class="co">           - top_20_org :  liste d'entités de type PORG</span></span>
<span id="cb69-12"><a href="#cb69-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-13"><a href="#cb69-13" aria-hidden="true" tabindex="-1"></a><span class="co">          Retour :</span></span>
<span id="cb69-14"><a href="#cb69-14" aria-hidden="true" tabindex="-1"></a><span class="co">          - Une liste des paires d'entités et une liste de leurs co-occurrences respectives.</span></span>
<span id="cb69-15"><a href="#cb69-15" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb69-16"><a href="#cb69-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-17"><a href="#cb69-17" aria-hidden="true" tabindex="-1"></a>    <span class="co">## On définit ici une sous fonction pour générer les cooccurrences pour chaque paire d'entités</span></span>
<span id="cb69-18"><a href="#cb69-18" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> process_pairs(entities_1, entities_2, type_1, type_2):</span>
<span id="cb69-19"><a href="#cb69-19" aria-hidden="true" tabindex="-1"></a>        co_words <span class="op">=</span> []</span>
<span id="cb69-20"><a href="#cb69-20" aria-hidden="true" tabindex="-1"></a>        co_occurence <span class="op">=</span> []</span>
<span id="cb69-21"><a href="#cb69-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-22"><a href="#cb69-22" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> elt_1 <span class="kw">in</span> entities_1:</span>
<span id="cb69-23"><a href="#cb69-23" aria-hidden="true" tabindex="-1"></a>            <span class="cf">for</span> elt_2 <span class="kw">in</span> entities_2:</span>
<span id="cb69-24"><a href="#cb69-24" aria-hidden="true" tabindex="-1"></a>                occ <span class="op">=</span> entities_occ_sent_all_articles(elt_1[<span class="dv">0</span>], elt_2[<span class="dv">0</span>], type_1, type_2, list_content_article)</span>
<span id="cb69-25"><a href="#cb69-25" aria-hidden="true" tabindex="-1"></a>                <span class="co">## Ajoutons la paire d'entités avec leurs types</span></span>
<span id="cb69-26"><a href="#cb69-26" aria-hidden="true" tabindex="-1"></a>                co_occurence.append(occ)</span>
<span id="cb69-27"><a href="#cb69-27" aria-hidden="true" tabindex="-1"></a>                co_words.append(((elt_1[<span class="dv">0</span>], type_1), (elt_2[<span class="dv">0</span>], type_2)))</span>
<span id="cb69-28"><a href="#cb69-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-29"><a href="#cb69-29" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> co_words, co_occurence</span>
<span id="cb69-30"><a href="#cb69-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-31"><a href="#cb69-31" aria-hidden="true" tabindex="-1"></a>    <span class="co">## Nous traitons toutes les combinaisons possibles d'entités</span></span>
<span id="cb69-32"><a href="#cb69-32" aria-hidden="true" tabindex="-1"></a>    co_words_per_loc, co_occurence_per_loc <span class="op">=</span> process_pairs(top_20_per, top_20_loc, <span class="st">'PER'</span>, <span class="st">'LOC'</span>)</span>
<span id="cb69-33"><a href="#cb69-33" aria-hidden="true" tabindex="-1"></a>    co_words_per_org, co_occurence_per_org <span class="op">=</span> process_pairs(top_20_per, top_20_org, <span class="st">'PER'</span>, <span class="st">'ORG'</span>)</span>
<span id="cb69-34"><a href="#cb69-34" aria-hidden="true" tabindex="-1"></a>    co_words_loc_org, co_occurence_loc_org <span class="op">=</span> process_pairs(top_20_loc, top_20_org, <span class="st">'LOC'</span>, <span class="st">'ORG'</span>)</span>
<span id="cb69-35"><a href="#cb69-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-36"><a href="#cb69-36" aria-hidden="true" tabindex="-1"></a>    <span class="co">## Nous combinons les résultats de toutes les combinaisons</span></span>
<span id="cb69-37"><a href="#cb69-37" aria-hidden="true" tabindex="-1"></a>    co_words <span class="op">=</span> co_words_per_loc <span class="op">+</span> co_words_per_org <span class="op">+</span> co_words_loc_org</span>
<span id="cb69-38"><a href="#cb69-38" aria-hidden="true" tabindex="-1"></a>    co_occurence <span class="op">=</span> co_occurence_per_loc <span class="op">+</span> co_occurence_per_org <span class="op">+</span> co_occurence_loc_org</span>
<span id="cb69-39"><a href="#cb69-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-40"><a href="#cb69-40" aria-hidden="true" tabindex="-1"></a>    <span class="co">## Nous retournons la liste des co-occurrences et des paires d'entités avec les types associés</span></span>
<span id="cb69-41"><a href="#cb69-41" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> co_occurence, co_words</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<div id="8a09a2ef" class="cell" data-execution_count="45">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb70"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="co">## Nous avons choisi d'illustrer notre fonction avec les 5 premiers éléments des listes d'entités de type PER,LOC et ORG les plus recurrentes dans nos articles</span></span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a>co_occurence, co_words <span class="op">=</span> top_20_max_co_occurrences(top_20_per[:<span class="dv">6</span>], top_20_loc[:<span class="dv">6</span>], top_20_org[:<span class="dv">6</span>], list_content_article)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<div id="7b2c65b7" class="cell" data-execution_count="46">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb71"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="co">## On crée un DataFrame à partir des paires d'entités et de leurs cooccurrences,</span></span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a><span class="co"># On trie les paires en fonction de la fréquence de cooccurrence et affiche les 20 premières.</span></span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-4"><a href="#cb71-4" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame({<span class="st">'Paire d_entité'</span>: co_words, <span class="st">'Cooccurrence'</span>: co_occurence})</span>
<span id="cb71-5"><a href="#cb71-5" aria-hidden="true" tabindex="-1"></a>df_sorted <span class="op">=</span> df.sort_values(by<span class="op">=</span><span class="st">'Cooccurrence'</span>, ascending<span class="op">=</span><span class="va">False</span>).head(<span class="dv">20</span>)</span>
<span id="cb71-6"><a href="#cb71-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df_sorted.to_string(index<span class="op">=</span><span class="va">False</span>))</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>                                   Paire d_entité  Cooccurrence
       ((Emmanuel Macron, PER), (la France, LOC))            17
         ((Angela Merkel, PER), (Allemagne, LOC))            15
               ((France, LOC), (franceinfo, ORG))            13
                ((Paris, LOC), (franceinfo, ORG))            12
        ((Emmanuel Macron, PER), (Français, LOC))            11
             ((Français, LOC), (franceinfo, ORG))            10
          ((Emmanuel Macron, PER), (France, LOC))            10
       ((Bruno Le Maire, PER), (franceinfo, ORG))             9
            ((Boris Johnson, PER), (Brexit, ORG))             8
      ((Emmanuel Macron, PER), (franceinfo, ORG))             8
((Emmanuel Macron, PER), (Union européenne, ORG))             8
                    ((la France, LOC), (UE, ORG))             8
         ((Europe, LOC), (Union européenne, ORG))             8
           ((Emmanuel Macron, PER), (Paris, LOC))             7
      ((Allemagne, LOC), (Union européenne, ORG))             6
                 ((Français, LOC), (Brexit, ORG))             6
          ((Emmanuel Macron, PER), (Europe, LOC))             5
         ((France, LOC), (Union européenne, ORG))             5
            ((la France, LOC), (franceinfo, ORG))             5
                      ((France, LOC), (AFP, ORG))             5</code></pre>
</div>
</div>
</section>
</section>
<section id="q.13.---ecrivons-une-fonction-qui-prend-en-entrée-deux-entités-et-leurs-types-respectifs-et-qui-analyse-lensemble-des-documents-où-ces-entités-apparaissent-dans-la-même-phrase-de-manière-à-établir-la-liste-des-verbes-on-prendra-le-lemme-du-verbe-qui-apparaissent-entre-ces-deux-entités-dans-ces-phrases." class="level3">
<h3 class="anchored" data-anchor-id="q.13.---ecrivons-une-fonction-qui-prend-en-entrée-deux-entités-et-leurs-types-respectifs-et-qui-analyse-lensemble-des-documents-où-ces-entités-apparaissent-dans-la-même-phrase-de-manière-à-établir-la-liste-des-verbes-on-prendra-le-lemme-du-verbe-qui-apparaissent-entre-ces-deux-entités-dans-ces-phrases.">Q.13. - Ecrivons une fonction qui prend en entrée deux entités et leurs types respectifs et qui analyse l’ensemble des documents où ces entités apparaissent dans la même phrase de manière à établir la liste des verbes (on prendra le lemme du verbe) qui apparaissent entre ces deux entités dans ces phrases.</h3>
<div id="2d7f4cff" class="cell" data-execution_count="47">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb73"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> verbs_between_entities(entity_1, entity_2, type_ent_1, type_ent_2, list_content_article):</span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb73-4"><a href="#cb73-4" aria-hidden="true" tabindex="-1"></a><span class="co">      Notre fonction permet d'extraire les verbes présents entre deux entités spécifiées</span></span>
<span id="cb73-5"><a href="#cb73-5" aria-hidden="true" tabindex="-1"></a><span class="co">      dans un ensemble d'articles. Elle parcourt chaque article, identifie les phrases contenant</span></span>
<span id="cb73-6"><a href="#cb73-6" aria-hidden="true" tabindex="-1"></a><span class="co">      les entités ciblées et extrait les verbes qui se trouvent entre ces entités dans la même phrase.</span></span>
<span id="cb73-7"><a href="#cb73-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-8"><a href="#cb73-8" aria-hidden="true" tabindex="-1"></a><span class="co">      Paramètres :</span></span>
<span id="cb73-9"><a href="#cb73-9" aria-hidden="true" tabindex="-1"></a><span class="co">      - entity_1 : Le texte représentant la première entité à rechercher.</span></span>
<span id="cb73-10"><a href="#cb73-10" aria-hidden="true" tabindex="-1"></a><span class="co">      - entity_2 : Le texte représentant la deuxième entité à rechercher.</span></span>
<span id="cb73-11"><a href="#cb73-11" aria-hidden="true" tabindex="-1"></a><span class="co">      - type_ent_1 : Le type de la première entité (ex. 'PERSON', 'ORG').</span></span>
<span id="cb73-12"><a href="#cb73-12" aria-hidden="true" tabindex="-1"></a><span class="co">      - type_ent_2 : Le type de la deuxième entité (ex. 'PERSON', 'ORG').</span></span>
<span id="cb73-13"><a href="#cb73-13" aria-hidden="true" tabindex="-1"></a><span class="co">      - list_content_article : Une liste d'articles où chaque article est une collection de phrases (spacy Doc).</span></span>
<span id="cb73-14"><a href="#cb73-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-15"><a href="#cb73-15" aria-hidden="true" tabindex="-1"></a><span class="co">      Retour :</span></span>
<span id="cb73-16"><a href="#cb73-16" aria-hidden="true" tabindex="-1"></a><span class="co">      - Une liste de verbes (sous forme de lemme) trouvés entre les deux entités dans les articles.</span></span>
<span id="cb73-17"><a href="#cb73-17" aria-hidden="true" tabindex="-1"></a><span class="co">      """</span></span>
<span id="cb73-18"><a href="#cb73-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-19"><a href="#cb73-19" aria-hidden="true" tabindex="-1"></a>    verbs_between_entities <span class="op">=</span> []</span>
<span id="cb73-20"><a href="#cb73-20" aria-hidden="true" tabindex="-1"></a>    <span class="co">## Parcourons tous les articles dans la liste fournie</span></span>
<span id="cb73-21"><a href="#cb73-21" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i <span class="kw">in</span>  <span class="bu">range</span>(<span class="bu">len</span>(list_content_article)):</span>
<span id="cb73-22"><a href="#cb73-22" aria-hidden="true" tabindex="-1"></a>      content_article <span class="op">=</span> list_content_article[i]</span>
<span id="cb73-23"><a href="#cb73-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-24"><a href="#cb73-24" aria-hidden="true" tabindex="-1"></a>      <span class="co">## Parcourons toutes les phrases de l'article</span></span>
<span id="cb73-25"><a href="#cb73-25" aria-hidden="true" tabindex="-1"></a>      <span class="cf">for</span> s <span class="kw">in</span> content_article.sents:</span>
<span id="cb73-26"><a href="#cb73-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-27"><a href="#cb73-27" aria-hidden="true" tabindex="-1"></a>        <span class="co">## Vérifions si les deux entités sont présentes dans la phrase</span></span>
<span id="cb73-28"><a href="#cb73-28" aria-hidden="true" tabindex="-1"></a>        occ_ent_1 <span class="op">=</span> <span class="bu">any</span>(entity.label_ <span class="op">==</span> type_ent_1 <span class="kw">and</span> entity.text <span class="op">==</span> entity_1  <span class="cf">for</span> entity <span class="kw">in</span> s.ents)</span>
<span id="cb73-29"><a href="#cb73-29" aria-hidden="true" tabindex="-1"></a>        occ_ent_2 <span class="op">=</span> <span class="bu">any</span>(entity.label_ <span class="op">==</span> type_ent_2 <span class="kw">and</span> entity.text <span class="op">==</span> entity_2  <span class="cf">for</span> entity <span class="kw">in</span> s.ents)</span>
<span id="cb73-30"><a href="#cb73-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-31"><a href="#cb73-31" aria-hidden="true" tabindex="-1"></a>        <span class="co">## Si les deux entités sont présentes, on calcule les indices des entités dans la phrase</span></span>
<span id="cb73-32"><a href="#cb73-32" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> occ_ent_1 <span class="kw">and</span> occ_ent_2:</span>
<span id="cb73-33"><a href="#cb73-33" aria-hidden="true" tabindex="-1"></a>          start_s_indexes <span class="op">=</span> s.start</span>
<span id="cb73-34"><a href="#cb73-34" aria-hidden="true" tabindex="-1"></a>          entity_1_end <span class="op">=</span> [e.end <span class="cf">for</span> e <span class="kw">in</span> s.ents <span class="cf">if</span> e.label_ <span class="op">==</span> type_ent_1 <span class="kw">and</span> e.text <span class="op">==</span> entity_1][<span class="dv">0</span>] <span class="op">-</span> start_s_indexes</span>
<span id="cb73-35"><a href="#cb73-35" aria-hidden="true" tabindex="-1"></a>          entity_1_start <span class="op">=</span> [e.start <span class="cf">for</span> e <span class="kw">in</span> s.ents <span class="cf">if</span> e.label_ <span class="op">==</span> type_ent_1 <span class="kw">and</span> e.text <span class="op">==</span> entity_1][<span class="dv">0</span>] <span class="op">-</span> start_s_indexes</span>
<span id="cb73-36"><a href="#cb73-36" aria-hidden="true" tabindex="-1"></a>          entity_2_start <span class="op">=</span> [e.start <span class="cf">for</span> e <span class="kw">in</span> s.ents <span class="cf">if</span> e.label_ <span class="op">==</span> type_ent_2 <span class="kw">and</span> e.text <span class="op">==</span> entity_2][<span class="dv">0</span>] <span class="op">-</span> start_s_indexes</span>
<span id="cb73-37"><a href="#cb73-37" aria-hidden="true" tabindex="-1"></a>          entity_2_end <span class="op">=</span> [e.end <span class="cf">for</span> e <span class="kw">in</span> s.ents <span class="cf">if</span> e.label_ <span class="op">==</span> type_ent_2 <span class="kw">and</span> e.text <span class="op">==</span> entity_2][<span class="dv">0</span>] <span class="op">-</span> start_s_indexes</span>
<span id="cb73-38"><a href="#cb73-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-39"><a href="#cb73-39" aria-hidden="true" tabindex="-1"></a>          <span class="co">## On extrait les tokens entre les entités, desquels on recupère les verbes</span></span>
<span id="cb73-40"><a href="#cb73-40" aria-hidden="true" tabindex="-1"></a>          <span class="cf">if</span> entity_1_end <span class="op">&lt;</span> entity_2_start:</span>
<span id="cb73-41"><a href="#cb73-41" aria-hidden="true" tabindex="-1"></a>            sub_tokens <span class="op">=</span> s[entity_1_end :entity_2_start]</span>
<span id="cb73-42"><a href="#cb73-42" aria-hidden="true" tabindex="-1"></a>            <span class="cf">for</span> token <span class="kw">in</span> sub_tokens:</span>
<span id="cb73-43"><a href="#cb73-43" aria-hidden="true" tabindex="-1"></a>                <span class="cf">if</span> token.pos_ <span class="op">==</span> <span class="st">"VERB"</span>:</span>
<span id="cb73-44"><a href="#cb73-44" aria-hidden="true" tabindex="-1"></a>                  verbs_between_entities.append(token.lemma_)</span>
<span id="cb73-45"><a href="#cb73-45" aria-hidden="true" tabindex="-1"></a>          <span class="cf">if</span> entity_2_end <span class="op">&lt;</span> entity_1_start:</span>
<span id="cb73-46"><a href="#cb73-46" aria-hidden="true" tabindex="-1"></a>            sub_tokens <span class="op">=</span> s[entity_2_end :entity_1_start]</span>
<span id="cb73-47"><a href="#cb73-47" aria-hidden="true" tabindex="-1"></a>            <span class="cf">for</span> token <span class="kw">in</span> sub_tokens:</span>
<span id="cb73-48"><a href="#cb73-48" aria-hidden="true" tabindex="-1"></a>              <span class="cf">if</span> token.pos_ <span class="op">==</span> <span class="st">"VERB"</span>:</span>
<span id="cb73-49"><a href="#cb73-49" aria-hidden="true" tabindex="-1"></a>                verbs_between_entities.append(token.lemma_)</span>
<span id="cb73-50"><a href="#cb73-50" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> verbs_between_entities</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<div id="7041abd0" class="cell" data-execution_count="48">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb74"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="co">## Illustration 1</span></span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a>verbs_between_entities(<span class="st">'Victor'</span>, <span class="st">'Jacques-Olivier Travers'</span>,<span class="st">'PER'</span>,<span class="st">'PER'</span>, list_content_article)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="48">
<pre><code>['rater']</code></pre>
</div>
</div>
<div id="f9473b90" class="cell" data-execution_count="49">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb76"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="co">## Illustration 2</span></span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a>verbs_between_entities(<span class="st">'Emmanuel Macron'</span> ,<span class="st">'la France'</span>, <span class="st">'PER'</span>,<span class="st">'LOC'</span>, list_content_article)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="49">
<pre><code>['recevoir',
 'vanter',
 'aller',
 'efforcer',
 'démontrer',
 'aller',
 'exprimer',
 'entendre',
 'démontrer',
 'rappeler',
 'affirmer',
 'croire',
 'pouvoir',
 'dire',
 'assurer',
 'pouvoir',
 'laisser',
 'établir',
 'agir',
 'saluer',
 'obtenir',
 'souligner',
 'souligner',
 'prévenir',
 'prévenir',
 'téléviser',
 'agir',
 'fermer',
 'covid-19',
 'provoquer',
 'affirmer']</code></pre>
</div>
</div>
</section>
<section id="q.14.--en-utilisant-la-fonction-de-la-question-précédente-déterminons-quelques-couples-dentités-et-un-verbe-associé-qui-vous-paraissent-faire-sens." class="level3">
<h3 class="anchored" data-anchor-id="q.14.--en-utilisant-la-fonction-de-la-question-précédente-déterminons-quelques-couples-dentités-et-un-verbe-associé-qui-vous-paraissent-faire-sens.">Q.14.- En utilisant la fonction de la question précédente, déterminons quelques couples d’entités et un verbe associé qui vous paraissent faire sens.</h3>
<div id="59ce1e3d" class="cell" data-execution_count="50">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb78"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="co">## On stock les paires d'entités dont le nombre  co-occurence dans les phrases de notre collection d'articles dans une liste est élévé.</span></span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a>paire_d_entite_list <span class="op">=</span> df_sorted[<span class="st">'Paire d_entité'</span>].tolist()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
</div>
<div id="ebcc5c9a" class="cell" data-execution_count="51">
<details class="code-fold">
<summary>Code</summary>
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb79"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="co">### On affiche nos paires d'entités avec la liste des verbes qui apparaissent entre elles dans les phrases de notre collection d'article</span></span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a>f <span class="op">=</span> pd.DataFrame(columns<span class="op">=</span>[<span class="st">'Entité 1'</span>, <span class="st">'Entité 2'</span>, <span class="st">'Verbes'</span>])</span>
<span id="cb79-3"><a href="#cb79-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-4"><a href="#cb79-4" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="bu">len</span>(paire_d_entite_list )):</span>
<span id="cb79-5"><a href="#cb79-5" aria-hidden="true" tabindex="-1"></a>  entity1 <span class="op">=</span> paire_d_entite_list[i][<span class="dv">0</span>][<span class="dv">0</span>]</span>
<span id="cb79-6"><a href="#cb79-6" aria-hidden="true" tabindex="-1"></a>  entity2 <span class="op">=</span> paire_d_entite_list[i][<span class="dv">1</span>][<span class="dv">0</span>]</span>
<span id="cb79-7"><a href="#cb79-7" aria-hidden="true" tabindex="-1"></a>  verbs <span class="op">=</span> verbs_between_entities(entity1, entity2, paire_d_entite_list[i][<span class="dv">0</span>][<span class="dv">1</span>], paire_d_entite_list[i][<span class="dv">1</span>][<span class="dv">1</span>], list_content_article)</span>
<span id="cb79-8"><a href="#cb79-8" aria-hidden="true" tabindex="-1"></a>  f.loc[<span class="bu">len</span>(f)] <span class="op">=</span> [entity1, entity2, verbs]</span>
<span id="cb79-9"><a href="#cb79-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb79-10"><a href="#cb79-10" aria-hidden="true" tabindex="-1"></a>f</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="51">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Entité 1</th>
<th data-quarto-table-cell-role="th">Entité 2</th>
<th data-quarto-table-cell-role="th">Verbes</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<th data-quarto-table-cell-role="th">0</th>
<td>Emmanuel Macron</td>
<td>la France</td>
<td>[recevoir, vanter, aller, efforcer, démontrer,...</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">1</th>
<td>Angela Merkel</td>
<td>Allemagne</td>
<td>[réagir, toucher, jeter, sanctionner, avoir, v...</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">2</th>
<td>France</td>
<td>franceinfo</td>
<td>[attendre, continuer, combattre, instaurer, co...</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">3</th>
<td>Paris</td>
<td>franceinfo</td>
<td>[avoir, partir, dire, rentrer, suspendre, lâch...</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">4</th>
<td>Emmanuel Macron</td>
<td>Français</td>
<td>[frapper, dérouler, devoir, prononcer, rendre,...</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">5</th>
<td>Français</td>
<td>franceinfo</td>
<td>[approuver, reste, approuver, lutter, consulti...</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">6</th>
<td>Emmanuel Macron</td>
<td>France</td>
<td>[rendre, charger, rappeler, préside, partir, e...</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">7</th>
<td>Bruno Le Maire</td>
<td>franceinfo</td>
<td>[avoir, jouer, traverser, &gt;, covid-19, précise...</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">8</th>
<td>Boris Johnson</td>
<td>Brexit</td>
<td>[donner, faire, déclarer, oublier, voter, livrer]</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">9</th>
<td>Emmanuel Macron</td>
<td>franceinfo</td>
<td>[estimer, occuper, fixe, envisager, redémarrer...</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">10</th>
<td>Emmanuel Macron</td>
<td>Union européenne</td>
<td>[affirmer, indiquer, menacer, proposer, annonc...</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">11</th>
<td>la France</td>
<td>UE</td>
<td>[quitte, défendre, croire, pouvoir, dire, assu...</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">12</th>
<td>Europe</td>
<td>Union européenne</td>
<td>[pouvoir, déployer, attendre, pouvoir, voyager...</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">13</th>
<td>Emmanuel Macron</td>
<td>Paris</td>
<td>[inaugurer, préside, partir, faire, commander,...</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">14</th>
<td>Allemagne</td>
<td>Union européenne</td>
<td>[paraître, falloir, voir, entrer, tenir, faire...</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">15</th>
<td>Français</td>
<td>Brexit</td>
<td>[avoir, remplir, revenir, avoir, remplir, reve...</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">16</th>
<td>Emmanuel Macron</td>
<td>Europe</td>
<td>[assurer, pouvoir, laisser, établir, agir, avo...</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">17</th>
<td>France</td>
<td>Union européenne</td>
<td>[paraître, falloir, voir, entrer, tenir, faire...</td>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">18</th>
<td>la France</td>
<td>franceinfo</td>
<td>[disposer, indiquer, avoir, jouer, traverser, ...</td>
</tr>
<tr class="even">
<th data-quarto-table-cell-role="th">19</th>
<td>France</td>
<td>AFP</td>
<td>[affirmer, représenter, distribuer, rappeler, ...</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<section id="certains-verbes-semblent-établir-une-relation-logique-ou-cohérente-entre-les-paires-dentités-mentionnée-ci-haut.-on-distingue-entre-autre" class="level4">
<h4 class="anchored" data-anchor-id="certains-verbes-semblent-établir-une-relation-logique-ou-cohérente-entre-les-paires-dentités-mentionnée-ci-haut.-on-distingue-entre-autre">Certains verbes semblent établir une relation logique ou cohérente entre les paires d’entités mentionnée ci haut. On distingue entre autre:</h4>
<ul>
<li><strong>Emmanuel Macron - Français</strong> Verbe associé : “présider”</li>
</ul>
<p>Le verbe “présider” est cohérent, car il reflète le rôle central d’Emmanuel Macron en tant que président de la République, qui dirige et prend des décisions impactant directement les Français.</p>
<ul>
<li><strong>France - Covid-19</strong> Verbe associé : “hospitaliser”</li>
</ul>
<p>Le verbe “hospitaliser” est cohérent, car il reflète une conséquence directe de la pandémie en France, mettant en avant les hospitalisations liées aux cas graves de Covid-19.</p>
<ul>
<li><strong>Allemagne - AFP</strong> Verbe associé : “annoncer”</li>
</ul>
<p>Le verbe “annoncer” est pertinent, car l’AFP(Agence France-Presse), en tant que source d’information majeure, relaie de façon reccurrente des annonces officielles en lien avec l’Allemagne.</p>
</section>
</section>
<section id="q.15." class="level3">
<h3 class="anchored" data-anchor-id="q.15.">Q.15.</h3>
<section id="q.15.1---précisons-en-quoi-les-couples-et-verbes-identifiés-peuvent-être-utiles-pour-trouver-de-nouvelles-relations-entre-deux-entités" class="level4">
<h4 class="anchored" data-anchor-id="q.15.1---précisons-en-quoi-les-couples-et-verbes-identifiés-peuvent-être-utiles-pour-trouver-de-nouvelles-relations-entre-deux-entités">Q.15.1 - Précisons en quoi les couples et verbes identifiés peuvent être utiles pour trouver de nouvelles relations entre deux entités</h4>
<p>Les couples d’entités et les verbes associés aident à identifier et comprendre les relations entre différentes entités dans notre collection d’articles. Dans le cadre de notre exercice, les verbes qui apparaissent fréquemment entre certaines paires d’entités peuvent révéler des relations implicites. Par exemple, des verbes comme “inquiéter”, “annoncer” ou “toucher” apparaissent entre les entités Allemagne et AFP, cela peut suggérer une relation implicite entre ces entités, comme “relater des événements” ou “faire état de préoccupations”. Cela permet de révéler des relations nouvelles dans nos textes, même lorsqu’elles ne sont pas explicitement formulées.</p>
</section>
<section id="q.15.2---précisons-en-quoi-les-couples-et-verbes-identifiés-peuvent-être-utiles-pour-grouper-des-relations-de-même-natures-entre-deux-entités" class="level4">
<h4 class="anchored" data-anchor-id="q.15.2---précisons-en-quoi-les-couples-et-verbes-identifiés-peuvent-être-utiles-pour-grouper-des-relations-de-même-natures-entre-deux-entités">Q.15.2 - Précisons en quoi les couples et verbes identifiés peuvent être utiles pour grouper des relations de même natures entre deux entités</h4>
<p>On pourrait regrouper des relations de même nature en identifiant des verbes similaires. Pour quantifier cette similarité, on peut utiliser des outils comme le <strong>cosine similarity</strong> vu en TP 1.</p>
<p>Il s’agira ensuite de se fixer un seuil au delà duquel on admettra qu’il y a assez de similarité entre les verbes et ainsi regrouper les relations.</p>
</section>
</section>
<section id="q.16.--expliquons-comment-on-pourrait-affiner-cette-analyse-en-utilisant-larbre-de-dépendance-syntaxique" class="level3">
<h3 class="anchored" data-anchor-id="q.16.--expliquons-comment-on-pourrait-affiner-cette-analyse-en-utilisant-larbre-de-dépendance-syntaxique">Q.16.- Expliquons comment on pourrait affiner cette analyse en utilisant l’arbre de dépendance syntaxique</h3>
<p>Au lieu de s’appuyer uniquement sur les verbes, on pourrait aussi tenir compte de la structure syntaxique des phrases pour mieux identifier les relations sous-jacentes.</p>
<p>Dans le contexte de notre exercice,nous avions précédemment identifié comme cohérente la relation entre les entités Emmanuel Macron - Français et le verbe “présider”.<br>
“Présider” pourrait être lié à Emmanuel Macron en tant que <strong>sujet</strong> et à “Français” en tant que <strong>complément d’objet direct</strong>. L’arbre de dépendance syntaxique permettrait ainsi de préciser que Macron, en tant que président, prend des décisions qui influencent directement les Français. Cette structure grammaticale aiderait donc à affiner l’identification de la relation de leadership ou de direction entre Emmanuel Macron et les Français, en mettant en lumière la façon dont ces entités sont liées dans la phrase. Cette analyse nous permettrait donc de mieux comprendre les nuances de la relation, au-delà du simple verbe, en prenant en compte la fonction grammaticale des mots dans la phrase.</p>
<p>```</p>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>